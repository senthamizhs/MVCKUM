!function (e, t) { "use strict"; "function" == typeof define && define.amd ? define("tinysort", function () { return t }) : e.tinysort = t }(this, function () { "use strict"; function e(e, t) { for (var r, n = e.length, o = n; o--;) t(e[r = n - o - 1], r) } function t(e, t, r) { for (var o in t) (r || e[o] === n) && (e[o] = t[o]); return e } function r(e, t, r) { f.push({ prepare: e, sort: t, sortBy: r }) } var n, o = !1, a = null, l = window, s = l.document, c = parseFloat, u = /(-?\d+\.?\d*)\s*$/g, i = /(\d+\.?\d*)\s*$/g, f = [], h = 0, d = 0, p = String.fromCharCode(4095), g = { selector: a, order: "asc", attr: a, data: a, useVal: o, place: "org", returns: o, cases: o, natural: o, forceStrings: o, ignoreDashes: o, sortFunction: a, useFlex: o, emptyEnd: o }; return l.Element && function (e) { e.matchesSelector = e.matchesSelector || e.mozMatchesSelector || e.msMatchesSelector || e.oMatchesSelector || e.webkitMatchesSelector || function (e) { for (var t = this, r = (t.parentNode || t.document).querySelectorAll(e), n = -1; r[++n] && r[n] != t;); return !!r[n] } }(Element.prototype), t(r, { loop: e }), t(function (r, l) { function m(e) { var r = !!e.selector, n = r && ":" === e.selector[0], o = t(e || {}, g); q.push(t({ hasSelector: r, hasAttr: !(o.attr === a || "" === o.attr), hasData: o.data !== a, hasFilter: n, sortReturnNumber: "asc" === o.order ? 1 : -1 }, o)) } function v(e, t, r) { for (var n = r(e.toString()), o = r(t.toString()), a = 0; n[a] && o[a]; a++) if (n[a] !== o[a]) { var l = Number(n[a]), s = Number(o[a]); return l == n[a] && s == o[a] ? l - s : n[a] > o[a] ? 1 : -1 } return n.length - o.length } function S(e) { for (var t, r, n = [], o = 0, a = -1, l = 0; t = (r = e.charAt(o++)).charCodeAt(0) ;) { var s = 46 == t || t >= 48 && t <= 57; s !== l && (n[++a] = "", l = s), n[a] += r } return n } function y() { return D.forEach(function (e) { w.appendChild(e.elm) }), w } function N(e) { var t = e.elm, r = s.createElement("div"); return e.ghost = r, t.parentNode.insertBefore(r, t), e } function C(e, t) { var r = e.ghost, n = r.parentNode; n.insertBefore(t, r), n.removeChild(r), delete e.ghost } function b(e, t) { var r, n = e.elm; return t.selector && (t.hasFilter ? n.matchesSelector(t.selector) || (n = a) : n = n.querySelector(t.selector)), t.hasAttr ? r = n.getAttribute(t.attr) : t.useVal ? r = n.value || n.getAttribute("value") : t.hasData ? r = n.getAttribute("data-" + t.data) : n && (r = n.textContent), A(r) && (t.cases || (r = r.toLowerCase()), r = r.replace(/\s+/g, " ")), null === r && (r = p), r } function A(e) { return "string" == typeof e } A(r) && (r = s.querySelectorAll(r)), 0 === r.length && console.warn("No elements to sort"); var F, E, w = s.createDocumentFragment(), x = [], D = [], M = [], q = [], B = !0, R = r.length && r[0].parentNode, V = R.rootNode !== document, $ = r.length && (l === n || !1 !== l.useFlex) && !V && -1 !== getComputedStyle(R, null).display.indexOf("flex"); return function () { 0 === arguments.length ? m({}) : e(arguments, function (e) { m(A(e) ? { selector: e } : e) }), h = q.length }.apply(a, Array.prototype.slice.call(arguments, 1)), e(r, function (e, t) { E ? E !== e.parentNode && (B = !1) : E = e.parentNode; var r = q[0], n = r.hasFilter, o = r.selector, a = !o || n && e.matchesSelector(o) || o && e.querySelector(o) ? D : M, l = { elm: e, pos: t, posn: a.length }; x.push(l), a.push(l) }), F = D.slice(0), D.sort(function (t, r) { var a = 0; for (0 !== d && (d = 0) ; 0 === a && d < h;) { var l = q[d], s = l.ignoreDashes ? i : u; if (e(f, function (e) { var t = e.prepare; t && t(l) }), l.sortFunction) a = l.sortFunction(t, r); else if ("rand" == l.order) a = Math.random() < .5 ? 1 : -1; else { var p = o, g = b(t, l), m = b(r, l), y = "" === g || g === n, N = "" === m || m === n; if (g === m) a = 0; else if (l.emptyEnd && (y || N)) a = y && N ? 0 : y ? 1 : -1; else { if (!l.forceStrings) { var C = A(g) ? g && g.match(s) : o, F = A(m) ? m && m.match(s) : o; C && F && g.substr(0, g.length - C[0].length) == m.substr(0, m.length - F[0].length) && (p = !o, g = c(C[0]), m = c(F[0])) } a = g === n || m === n ? 0 : l.natural && (isNaN(g) || isNaN(m)) ? v(g, m, S) : g < m ? -1 : g > m ? 1 : 0 } } e(f, function (e) { var t = e.sort; t && (a = t(l, p, g, m, a)) }), 0 == (a *= l.sortReturnNumber) && d++ } return 0 === a && (a = t.pos > r.pos ? 1 : -1), a }), function () { var e = D.length === x.length; if (B && e) $ ? D.forEach(function (e, t) { e.elm.style.order = t }) : E ? E.appendChild(y()) : console.warn("parentNode has been removed"); else { var t = q[0].place, r = "start" === t, n = "end" === t, o = "first" === t, a = "last" === t; if ("org" === t) D.forEach(N), D.forEach(function (e, t) { C(F[t], e.elm) }); else if (r || n) { var l = F[r ? 0 : F.length - 1], s = l && l.elm.parentNode, c = s && (r && s.firstChild || s.lastChild); c && (c !== l.elm && (l = { elm: c }), N(l), n && s.appendChild(l.ghost), C(l, y())) } else (o || a) && C(N(F[o ? 0 : F.length - 1]), y()) } }(), D.map(function (e) { return e.elm }) }, { plugin: r, defaults: g }) }());