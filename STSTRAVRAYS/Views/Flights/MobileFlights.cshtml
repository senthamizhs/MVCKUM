@{
    Layout = null;
    string fileversion = System.Configuration.ConfigurationManager.AppSettings["UpdateVersion"] != null ? System.Configuration.ConfigurationManager.AppSettings["UpdateVersion"].ToString() : "";
    string assignedcurrency = Session["App_currency"] != null && Session["App_currency"] != "" ? Session["App_currency"].ToString() : System.Configuration.ConfigurationManager.AppSettings["currency"].ToString();
    string apptheme = System.Configuration.ConfigurationManager.AppSettings["apptheme"] != null ? System.Configuration.ConfigurationManager.AppSettings["apptheme"].ToString() : "";
    string twooneway = System.Configuration.ConfigurationManager.AppSettings["2oneway"] != null ? System.Configuration.ConfigurationManager.AppSettings["2oneway"].ToString() : "";
    string Allowcalendar = System.Configuration.ConfigurationManager.AppSettings["Allowcalendar"] != null ? System.Configuration.ConfigurationManager.AppSettings["Allowcalendar"].ToString() : "0";
    string assignedcountry = System.Configuration.ConfigurationManager.AppSettings["COUNTRY"] != null ? System.Configuration.ConfigurationManager.AppSettings["COUNTRY"].ToString() : "";
    string qrystrflg = Session["UniqueSessionid"] != null ? Session["UniqueSessionid"].ToString() : "";//v1.0
    string app_login_Currencycode = Session["Allowappcurrency"] != null && Session["Allowappcurrency"].ToString() != "" ? Session["Allowappcurrency"].ToString() : "";
    string Product = System.Configuration.ConfigurationManager.AppSettings["Producttype"].ToString();
    var sessionstrg = Session["terminalid"] != null ? Session["terminalid"].ToString() : "";
    string _mCityFlg = Session["multicity"] != null ? Session["multicity"].ToString().Trim() : "";
    string _segFlg = Session["tripConfig"] != null ? Session["tripConfig"].ToString().Trim() : "O|Y"; // Oneway and Roundtrip
    string _frCallFlg = Session["Farecalander"] != null ? Session["Farecalander"].ToString().Trim() : "";
    string[] _image = Session["accessimage"] != null ? Session["accessimage"].ToString().TrimEnd('|').TrimStart('|').Split('|') : "".Split('|');
    string strImageURL = System.Configuration.ConfigurationManager.AppSettings["LogoUrl"].ToString();
    string strLoaderURL = strImageURL + "/" + Product + "/" + "loader.gif?" + fileversion;
    string currenctdate_ad = Session["Serverdatetime"] != null ? Session["Serverdatetime"].ToString().Trim() : ViewBag.currentdate;
    string strTerminaltype = Session["TERMINALTYPE"] != null && Session["TERMINALTYPE"].ToString() != "" ? Session["TERMINALTYPE"].ToString() : System.Configuration.ConfigurationManager.AppSettings["TerminalType"].ToString().ToUpper();
}

<!DOCTYPE html>
<html>
<head>
    <title>MobileFlights</title>
    <meta name="viewport" content="width=device-width" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta content="JOD" name="description" />
    <meta content="JOD" name="author" />

    @Styles.Render("~/Content/LayoutCommonCSS")
    @Styles.Render("~/Content/CommonAllCSS")
    @Styles.Render("~/Content/LayoutOtherCSS")
    <script src="~/js/CommonJS/jquery-1.11.1.js"></script>
    <script src="~/js/CommonJS/jquery-ui-new.js"></script>
    @Scripts.Render("~/bundles/CommonAllJS")
    <link href="~/Content/CSS/homecss.css?@Fileversion" rel="stylesheet" />
    <link href="~/Content/CSS/AvilBuilder.css?@fileversion" rel="stylesheet" />
    <link href="~/Content/CSS/Slider/camera.css?@fileversion" rel="stylesheet" />
    <link href="~/Content/CSS/tooltipster.css?@fileversion" rel="stylesheet" />
    <link href="~/Content/CSS/Controlpanel.css?@fileversion" rel="stylesheet" />
    <link href="~/Content/CSS/Component.css?@fileversion" rel="stylesheet" />
    <link href="~/Content/CSS/jod/jod_flight.css"@fileversion rel="stylesheet" />
    <style>
        .m-t-60 {
            margin-bottom: -21px;
            /*sample*/
        }

        .m-t-80 {
            margin-top: 80px;
            /*sample*/
        }

        .clssmallhdr {
            background-image: url(../Images/elements_header_background.png);
        }

        .clssmallhdr ul li {
            color: #333;
        }

        .clssmallhdr span {
            text-decoration: none !important;
        }

        .nice-select.form-control.clshideErrch {
            border: none !important;
            padding: 1px 0px 0px 5px !important;
            height: 100%;
        }

        .basicfares, .roundreplace {
            display: block;
        }

        .Goesstooltip_head {
            /*display: none;*/
        }

        .mk-trc {
            margin-bottom: 0px !important;
        }

        .addtop {
            top: 50%;
        }

        .full-height {
            /*height: 100vh;*/
            position: relative;
            float: left;
            width: 100%;
        }

        .clip {
            clip: rect(auto,auto,auto,auto);
            height: inherit;
            position: static;
            width: 100%;
        }

        .bg {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .bg-bg-chrome {
            background-position: 54% 57%;
            position: fixed;
            background-repeat: no-repeat;
            background-attachment: fixed !important;
            -moz-background-size: cover;
            -ms-background-size: cover;
            background-size: cover;
            opacity: 0.9;
        }

        .clsswapcity {
            position: absolute;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            right: -15px;
            top: 3px;
            border: 1px solid #eee;
            z-index: 1;
            cursor: pointer;
        }

        #dvmoreAvailload {
            min-height: 60px;
            background-color: #fff;
            width: 100%;
            padding-top: 25px;
            padding-left: 10px;
            padding-right: 10px;
        }

        article.commonbox {
            display: none;
        }

        #dvsamplemain {
            background-color: #ddd;
            position: relative;
        }

        .rcntsearchtitle {
            font-size: 15px;
            color: #000;
            border-bottom: 2px solid;
            line-height: 30px;
        }

        #dvRSearch {
            min-height: 175px;
            margin-bottom: 20px;
        }

        .blockUI.blockMsg.blockPage {
            background-color: transparent !important;
            padding: 0 !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            width: 100% !important;
            border-radius: 0 !important;
        }

        .spnclosepopup {
            position: absolute;
            top: -18px;
            right: -7px;
            background: #fff;
            border: 1px solid #eee;
            border-radius: 50%;
            font-size: 18px;
            padding: 5px 6px;
            cursor: pointer;
        }

        .DeptDateboxs:before {
            top: 50%;
            left: 83px;
        }

        .DeptDateboxs_edit:before {
            top: 50% !important;
            left: 10px !important;
        }

        @@media screen and (max-width:768px) {
        }

        .confrm-hdr {
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            font-size: 15px;
            font-weight: 600;
            color: #000;
        }


        /*round trip radio button style (like button style)-11092017-sri*/

        .tgl {
            display: none;
        }

            .tgl + .tgl-btn {
                outline: 0;
                display: block;
                width: 5em;
                /*height: 2em;*/
                position: relative;
                cursor: pointer;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                margin-bottom: 13px;
            }

        .tgl-flat + .tgl-btn {
            padding: 2px;
            -webkit-transition: all .1s ease;
            transition: all .1s ease;
            background: #fff;
            border: 4px solid #f2f2f2;
            border-radius: 2em;
        }

            .tgl-flat + .tgl-btn:after {
                -webkit-transition: all .1s ease;
                transition: all .1s ease;
                background: #f2f2f2;
                content: "";
                border-radius: 1em;
            }

        .tgl-flat:checked + .tgl-btn {
            border: 4px solid #7FC6A6;
        }

            .tgl-flat:checked + .tgl-btn:after {
                left: 50%;
                background: #7FC6A6;
            }

        .tgl-flip + .tgl-btn {
            /*padding: 2px;*/
            -webkit-transition: all .1s ease;
            transition: all .1s ease;
            font-family: sans-serif;
            -webkit-perspective: 100px;
            perspective: 100px;
            font-size: 11px !important;
            font-weight: 500 !important;
        }

            .tgl-flip + .tgl-btn:after, .tgl-flip + .tgl-btn:before {
                display: inline-block;
                -webkit-transition: all .2s ease;
                transition: all .2s ease;
                width: 100%;
                text-align: center;
                position: absolute;
                line-height: 2em;
                font-weight: bold;
                color: #fff;
                position: absolute;
                top: 0;
                left: 0;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                border-radius: 4px;
            }

            .tgl-flip + .tgl-btn:after {
                content: attr(data-tg-on);
                background: #02C66F;
                -webkit-transform: rotateY(-180deg);
                transform: rotateY(-180deg);
            }

            .tgl-flip + .tgl-btn:before {
                background: #FF3A19;
                content: attr(data-tg-off);
            }

            .tgl-flip + .tgl-btn:active:before {
                -webkit-transform: rotateY(-20deg);
                transform: rotateY(-20deg);
            }

        .tgl-flip:checked + .tgl-btn:before {
            -webkit-transform: rotateY(180deg);
            transform: rotateY(180deg);
        }

        .tgl-flip:checked + .tgl-btn:after {
            -webkit-transform: rotateY(0);
            transform: rotateY(0);
            left: 0;
            background: #7FC6A6;
        }

        .tgl-flip:checked + .tgl-btn:active:after {
            -webkit-transform: rotateY(20deg);
            transform: rotateY(20deg);
        }

        .availshowhidecls:before {
            background: rgb(153, 203, 51) !important;
            /*background: rgb(242, 85, 104) !important;*/
        }

        /*END   button style (like button style) */

        .clsFareruleSelect {
            font-size: 15px;
            cursor: pointer;
            font-weight: bold;
            border: 1px solid #a9a9a9;
            padding: 5px 10px;
            background: #d3d3d3;
            color: #000;
            float: left;
            background-color: #d3d3d3;
            color: #000000;
            border-color: #a9a9a9;
        }

        .clsSgFareRule {
            width: 100%;
            float: left;
            padding-top: 10px;
            border: 1px dashed #a9a9a9;
            padding-left: 5px;
            color: #000 !important;
            background: #d3d3d3;
        }

        .clsRuleHead {
            width: 100%;
            font-size: 12px;
            font-weight: bold;
            /* border-bottom: 1px dashed; */
            padding: 10px 0px;
            color: #000;
            cursor: pointer;
        }

        .clsFaretextArea:read-only {
            width: 100%;
            /* height: 450px; */
            border: #fff;
            color: black;
            background: #efefef;
            display: none;
        }

        .clsFaretextArea {
            width: 100%;
            /* height: 450px; */
            border: #fff;
            color: black;
            background: #efefef;
            display: none;
        }

        pre {
            display: block;
            padding: 9.5px;
            margin: 0 0 10px;
            font-size: 13px;
            line-height: 1.42857143;
            color: #333;
            word-break: break-all;
            word-wrap: break-word;
            /*background-color: #f5f5f5;*/
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
    <style>
        .baggfontcolr {
            color: red !important;
        }

        .viaclass {
            font-style: normal;
            font-family: serif;
            color: black;
            margin-top: -1px;
        }

        @@media screen and (max-width:768px) {
            .mob-via {
                position: absolute;
                margin-top: 2px !important;
                z-index: 1;
                line-height: 22px !important;
                padding: 0px 5px !important;
                left: 40%;
                white-space: nowrap;
                display: none !important;
            }
        }

        .clsroundAvail {
            max-height: 500px;
            overflow-y: auto;
        }

        .Newflight {
            text-align: center;
            border-left: 1px dotted #ddd;
            padding-right: 30px;
            padding-left: 13px;
            white-space: nowrap;
        }

        .gropbtncls {
            display: inline-block;
            /* background: white !important; */
            font-size: 0.8333em;
            line-height: 2.5em;
            white-space: nowrap;
            text-align: center;
            border-radius: 4px;
            padding: 3px !important;
            border-color: black;
            background-color: white !important;
            color: black !important;
            border: 1px solid #FF5722 !important;
        }

            .gropbtncls:hover {
                background-color: #03A9F4 !important;
                color: white !important;
                border: 2px solid #03A9F4 !important;
            }


        .clsSelectBox {
            padding-top: 5px;
            padding-bottom: 15px;
            margin-top: 20px;
        }

        .totalgroupcnt {
            padding: 4px;
            background-color: #27a5f5;
            color: white;
        }

        .tablestyle {
            /*box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);*/
            text-align: center;
            margin-bottom: unset !important;
        }

            .tablestyle > tbody > tr > td {
                border-top: 1px solid #ddd !important;
                padding: 8px !important;
            }

        .imgdescls {
            width: unset !important;
            margin-left: 38% !important;
        }

        .tmespn {
            /*border: 1px dashed #fd2020 !important;*/
            background-color: #d9e1e2;
            color: black !important;
        }

            .tmespn:after {
                background-color: #0ab596 !important;
            }

            .tmespn:before {
                background-color: #0ab596 !important;
            }

        .owl-carousel .owl-stage {
            padding-bottom: 0px;
        }

        .tablestyle1 {
            text-align: center;
            margin-bottom: unset !important;
        }

            .tablestyle1 > tbody > tr > td {
                padding: 8px !important;
                border-top: 1px solid #fff !important;
            }

            .tablestyle1 > tbody > tr {
                border-top: 1px solid #fff !important;
            }

        .tmespnbor {
            border-top: brown !important;
            background-color: #eee;
        }

        #airlinemat_main_div_1 {
            background-color: #eee;
        }

        .selectedapndcls {
            background-color: #27c7aa;
            color: white;
        }

        .labletospancls {
            cursor: pointer;
        }

        .labletospancls {
            margin-bottom: 0px !important;
            font-size: unset !important;
        }


        .cb:checked ~ .cbxmart, .splselebtn:hover {
            background: #0ab596 !important;
        }

        .cbxmart {
            border: 1px solid #0ab596 !important;
        }


        .FlightNamecls {
            position: relative;
            top: -45px;
            left: 342px;
        }

        .chosen-container-single .chosen-single {
            position: relative;
            display: block;
            overflow: hidden;
            border: 1px solid #aaa;
            border-radius: 5px;
            background-color: #fff;
            background: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(20%, #ffffff), color-stop(50%, #f6f6f6), color-stop(52%, #eeeeee), color-stop(100%, #f4f4f4));
            background: -webkit-linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
            background: -moz-linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
            background: -o-linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
            background: linear-gradient(#ffffff 20%, #f6f6f6 50%, #eeeeee 52%, #f4f4f4 100%);
            background-clip: padding-box;
            box-shadow: 0 0 3px white inset, 0 1px 1px rgba(0, 0, 0, 0.1);
            color: #444444de;
            text-decoration: none;
            white-space: nowrap;
            line-height: 24px;
            padding: 5px 8px !important;
            height: 36px !important;
        }

        .chosen-container-single .chosen-single {
            border: 1px solid #e2e2e2 !important;
            border-radius: 2px !important;
        }
        @@media (max-width: 768px) {
            .mobNoContainer {
                margin-top: 0em !important;
            }
        }
    </style>

</head>

<body>
    <div class="full-height" style="">
        <div class="clip">
            <div class="bg bg-bg-chrome" style="background-color: #f2f2f2;">
            </div>
        </div>
    </div>
    <div class="container mobNoContainer" style="box-shadow: 0px 0px 17px 7px #262626; margin-top: 0%;">
        <div id="dvAvailView" style="display: none;" class="col5">
            <div id="dvmodifydetails" class="clsmodifydetails" style="margin-top: 1%;">
                <div class="row row10">
                    <div class="col-sm-3 col10 col-xs-12 hidden-xs clsborderright">
                        <p><span class="clshrdstyle" id="spnmodifydettriptyp">Oneway</span></p>
                        <p id="pmodifydetilsegment"><span>--</span></p>
                    </div>
                    <div class="col-sm-3 col10 col-xs-12 hidden-xs clsborderright">
                        <div class="row row10">
                            <div class="col-sm-6 col10">
                                <p><span class="clshrdstyle">Departure</span></p>
                                <p><span class="clsdatestyle" id="spnmodifydetdep">--</span></p>
                            </div>
                            <div class="col-sm-6 col10">
                                <p><span class="clshrdstyle">Return</span></p>
                                <p><span class="clsdatestyle" id="spnmodifydetRtn"></span></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col10 col-xs-12 hidden-xs clsborderright">
                        <div class="row row10">
                            <div class="col-sm-4 col10 text-center">
                                <p><span class="clshrdstyle">Adult(s)</span></p>
                                <p><span class="clspaxstyle" id="spnmodifydetadt">--</span></p>
                            </div>
                            <div class="col-sm-4 col10 text-center">
                                <p><span class="clshrdstyle">Child(ren)</span></p>
                                <p><span class="clspaxstyle" id="spnmodifydetchd">--</span></p>
                            </div>
                            <div class="col-sm-4 col10 text-center">
                                <p><span class="clshrdstyle">Infant(s)</span></p>
                                <p><span class="clspaxstyle" id="spnmodifydetinf">--</span></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3 col10 col-xs-12">
                        <div class="row row10">
                            <div class="col-sm-4 col10 hidden-xs">
                                <p><span class="clshrdstyle">Class</span></p>
                                <p><span id="dvmodifydetcls">--</span></p>
                            </div>
                            @*<div class="col-sm-6 col-xs-4 col5" style="line-height: 40px; border-right: 1px solid #ccc;">
                                <button id="btnFmodifySearch" class="clsModifysearch"><i id="iFmodifySearch" class="fa fa-plus" style="margin-right: 5px;"></i><span>Modify</span> <span class="hidden-xs">Search</span></button>
                            </div>*@
                            <div class="col-sm-offset-6 col-sm-2 col-xs-8 col5">
                                <div id="dvrightstckyIcons" style="display: none;">
                                    <span class="ico-sticky ico2 animated zoomInDown" data-toggle='tooltip' id="btnFAvailEmail" data-placement='left' title="Send Email">
                                        <img src="@Url.Content("~/Images/icons/mailsendwhite.png")" alt="" /></span>
                                </div>
                                <span class="clsAvailFiltericon" id="spnAvailFiltericon" data-toggle='tooltip' data-placement='bottom' title="Filtration"><i class="fa fa-filter"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="Content_ctl04_SearchFormv8_SearchBox" class="mui-searchbox mui-searchbox-flights" style="margin-top: 4px;">

                @*Progress bar Start*@
                <div id="dvmoreAvailload">
                    <div id="avail-more-load"></div>
                </div>
                @*Progress bar End*@

                @*filtration part*@
                <div id="resultFilter" class="filters ismobFixed" style="display: none;">
                    <div class="flt-lft w-100" id="divmainflilteration">
                        <div class="Fltrmobcncl">Filter</div>
                        <div class="Fltrmobapply">
                            <button id="applymobFAvailFltr">Apply</button>
                        </div>
                        <div class="cancelFltrmobapply hidden-lg hidden-md hidden-sm">
                            <button onclick="mobCloseFltr();">Close</button>
                        </div>
                        <div id="FltfilterTab" class="row row0 filtertab"></div>
                        <div id="filterBody_dynamic_1" class="row row10 filter-body fltrbdyDynamic ">
                            @*filterBody_dynamic_1*@
                            @*animated fadeInDown*@
                            <div class="com_price col-lg-2 col-xs-12">
                                <div class="prices allFilter " id="pricefilter" data-target="priceFilter" data-arrowtarget="priceArrowTip">
                                    <div class="nameCont">
                                        <i class="fa fa-money"></i>
                                        <span class="filtName">Fare</span>
                                        <p>
                                            <span class="js-priceText allText">
                                                <span class="min u_font10">
                                                    <span class="clsCurncyfeel clscurrency">-</span>
                                                    <span class="prices u_font13" id="minfare2_dynamic_1" data-price="">--</span>
                                                </span><span class="u_padR5 u_padL5">- </span>
                                                <span class="max u_font10">
                                                    <span class="clsCurncyfeel clscurrency">-</span>
                                                    <span class="prices u_font13" id="maxfare2_dynamic_1" data-price="">--</span>
                                                </span>
                                            </span>
                                            <span class="ion-chevron-down"></span>
                                        </p>
                                    </div>
                                </div>

                                <div class="spl_price prices">
                                    <div class="tipArrow priceArrowTip"></div>
                                    <div class="priceFilter allFilterList">
                                        <div class="sliderCont">
                                            <div id="slider-range_dynamic_1">
                                            </div>
                                        </div>

                                        <div class="priceCont">
                                            <div class="min">
                                                <div class="text">Min. Fare</div>
                                                <!--<div class="currency"></div>-->
                                                <div class="u_marT10 u_marL20 u_textL">
                                                    <span class="clscurrency">-</span>
                                                    <div class="price" id="minfare_dynamic_1" data-min="">--</div>
                                                </div>
                                            </div>
                                            <div class="max">
                                                <div class="text">Max. Fare</div>
                                                <!--<div class="currency"></div>-->
                                                <div class="u_marT10 u_marL20 u_textL">
                                                    <span class="clscurrency">-</span>
                                                    <div class="prices" id="maxfare_dynamic_1" data-max="">--</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="com_stops col-lg-2 col-xs-12">
                                <div class="stops allFilter " id="stopfilter" data-target="stopsFilter" data-arrowtarget="stopArrowTip">
                                    <div class="nameCont">
                                        <i class="fa fa-map-marker"></i>
                                        <span class="filtName">Stops</span>
                                        <p>
                                            <span class="stopText js-stopsText allText">1, 2, 2+</span>
                                            <span class="u_padL5 u_fontW300 u_clViaBlack">Stops</span>
                                            <span class="ion-chevron-down"></span>
                                        </p>
                                    </div>

                                </div>

                                <div class="spl_stops stops">
                                    <div class="tipArrow stopArrowTip"></div>
                                    <div class="stopsFilter allFilterList">
                                        @*<div class="cBox">
                                <div class="cntr">
                                    <input style="display: none;" checked id="FAstop0_dynamic_1" class="cb chkfilter chkfilterstop" data-filter="stop0" type="checkbox" />
                                    <label class="cbx" for="FAstop0_dynamic_1"></label>
                                    <label class="lbl fltcntnt" for="FAstop0_dynamic_1">0 Stop</label>
                                </div>
                            </div>*@
                                        <div class="cBox">
                                            <div class="cntr">
                                                <input style="display: none;" id="FAstop1_dynamic_1" class="cb chkfilter chkfilterstop" data-filter="stop1" type="checkbox" />
                                                <label class="cbx" for="FAstop1_dynamic_1"></label>
                                                <label class="lbl fltcntnt" for="FAstop1_dynamic_1">1 Stop</label>
                                            </div>
                                        </div>
                                        <div class="cBox">
                                            <div class="cntr">
                                                <input style="display: none;" id="FAstop2_dynamic_1" class="cb chkfilter chkfilterstop" data-filter="stop2" type="checkbox" />
                                                <label class="cbx" for="FAstop2_dynamic_1"></label>
                                                <label class="lbl fltcntnt" for="FAstop2_dynamic_1">2 Stops</label>
                                            </div>
                                        </div>
                                        <div class="cBox">
                                            <div class="cntr">
                                                <input style="display: none;" id="FAstop3_dynamic_1" class="cb chkfilter chkfilterstop" data-filter="stop2+" type="checkbox" />
                                                <label class="cbx" for="FAstop3_dynamic_1"></label>
                                                <label class="lbl fltcntnt" for="FAstop3_dynamic_1">2+ Stops</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="com_times col-lg-2 col-xs-12">
                                <div class="times allFilter " id="timefilter" data-target="timeFilter" data-arrowtarget="timeArrowTip">
                                    <div class="nameCont">
                                        <i class="fa fa-clock-o"></i>
                                        <span class="filtName">
                                            Times
                                        </span>
                                        <p>
                                            <span class="js-timesText allText">All Times</span>
                                            <span class="ion-chevron-down"></span>
                                        </p>
                                    </div>

                                </div>

                                <div class="spl_times times">
                                    <div class="tipArrow timeArrowTip"></div>
                                    <div class="timeFilter allFilterList" style="z-index: 1000">
                                        @*<div class="title">
                                <div class="titleContent">
                                    Onward
                                </div>
                            </div>*@
                                        <span class="desc">Departure </span>
                                        @* <span class="city" id="takeOff_fltr_dynamic_1">Origin City
                            </span>*@
                                        <br>

                                        <div class="cBox OD">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="9" data-tip="Before 06:00" class="chkfilter chkfilterdept" data-filter="dept1" id="FAdep0to6_dynamic_1" value="0">
                                                <label for="FAdep0to6_dynamic_1" data-tip="Before 06:00" class="js-toolTip">
                                                    <i class="fa fa-star-half-o" style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>Before 06:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="cBox OD">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="14" data-tip="10:00 to 15:00" data-filter="dept2" id="FAdep6to12_dynamic_1" class="chkfilter chkfilterdept" value="0">
                                                <label for="FAdep6to12_dynamic_1" data-tip="06:00 to 12:00" class="js-toolTip">
                                                    <i class="fa fa-sun-o " style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>06:00 to 12:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="cBox OD">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="19" data-tip="15:00 to 20:00" data-filter="dept3" id="FAdep12to18_dynamic_1" class="chkfilter chkfilterdept" value="0">
                                                <label for="FAdep12to18_dynamic_1" data-tip="12:00 to 18:00" class="js-toolTip">
                                                    <i class="fa fa-cloud " style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>12:00 to 18:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="cBox OD">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="23" data-tip="20:00 to 00:00" data-filter="dept4" id="FAdep18to24_dynamic_1" class="chkfilter chkfilterdept" value="0">
                                                <label for="FAdep18to24_dynamic_1" data-tip="18:00 to 00:00" class="js-toolTip">
                                                    <i class="fa fa-moon-o" style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>18:00 to 00:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <br>
                                        <br>
                                        <span class="desc">Arrival </span>
                                        @*<span class="city" id="landing_fltr_dynamic_1">Destination City</span>*@<br>

                                        <div class="cBox OA">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="9" data-tip="Before 06:00" data-filter="arri1" id="FAarr0to6_dynamic_1" class="chkfilter chkfilterarri" value="0">
                                                <label for="FAarr0to6_dynamic_1" data-tip="Before 10:00" class="js-toolTip">
                                                    <i class="fa fa-star-half-o" style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>Before 06:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="cBox OA">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="14" data-tip="10:00 to 15:00" data-filter="arri2" id="FAarr6to12_dynamic_1" class="chkfilter chkfilterarri" value="0">
                                                <label for="FAarr6to12_dynamic_1" data-tip="06:00 to 12:00" class="js-toolTip">
                                                    <i class="fa fa-sun-o " style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>06:00 to 12:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="cBox OA">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="19" data-tip="15:00 to 20:00" data-filter="arri3" id="FAarr12to18_dynamic_1" class="chkfilter chkfilterarri" value="0">
                                                <label for="FAarr12to18_dynamic_1" data-tip="12:00 to 18:00" class="js-toolTip">
                                                    <i class="fa fa-cloud " style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>12:00 to 18:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div class="cBox OA">
                                            <div class="timesCheck">
                                                <input type="checkbox" data-from="" data-to="23" data-tip="20:00 to 00:00" data-filter="arri4" id="FAarr18to24_dynamic_1" class="chkfilter chkfilterarri" value="0">
                                                <label for="FAarr18to24_dynamic_1" data-tip="18:00 to 00:00" class="js-toolTip">
                                                    <i class="fa fa-moon-o" style="font-size: 16px; font-weight: 600;"></i>
                                                    <span class="timeIcon">
                                                        <br>
                                                    </span>
                                                    <span>18:00 to 00:00</span>
                                                </label>
                                            </div>
                                        </div>

                                        <br>
                                    </div>
                                </div>
                            </div>

                            <div class="com_airlines col-lg-2 col-xs-12">
                                <div class="airlines allFilter " id="airlinefilter" data-target="airlineFilter" data-arrowtarget="airlineArrowTip">
                                    <div class="nameCont">
                                        <i class="ion-plane"></i>
                                        <span class="filtName">Airlines</span>
                                        <p>
                                            <span class="js-airportText allText">All Airlines</span>
                                            <span class="ion-chevron-down"></span>
                                        </p>
                                    </div>

                                </div>

                                <div class="spl_airlines airlines">
                                    <div class="tipArrow airlineArrowTip"></div>
                                    <div class="airlineFilter allFilterList airfilterallcheck" id="">
                                    </div>
                                </div>

                            </div>

                            <div class="com_others col-lg-2 col-xs-12">
                                <div class="others allFilter" id="itineraryfilter" data-target="itineraryFilter" data-arrowtarget="itineraryArrowTip">
                                    <div class="nameCont">
                                        <i class="fa fa-star"></i>
                                        <span class="filtName">Fare & Flight type</span>
                                        <p>
                                            <span class="locationText js-itineraryText allText">All Fares, All Flights</span>
                                            <span class="ion-chevron-down"></span>
                                        </p>
                                    </div>

                                </div>

                                <div class="spl_others">
                                    <div class="tipArrow itineraryArrowTip"></div>
                                    <div class="itineraryFilter allFilterList">
                                        <div class="title">
                                            <div class="titleContent">
                                                Fare Type
                                            </div>
                                        </div>

                                        <div class="cntr">
                                            <input style="display: none;" id="FArefund_dynamic_1" class="cb chkfilter chkfilterrefund" data-filter="refun" type="checkbox" />
                                            <label class="cbx" for="FArefund_dynamic_1"></label>
                                            <label class="lbl fltcntnt" for="FArefund_dynamic_1">Refundable</label>
                                        </div>
                                        <div class="cntr">
                                            <input style="display: none;" id="FAnonrefun_dynamic_1" class="cb chkfilter chkfilterrefund" data-filter="nonrefun" type="checkbox" />
                                            <label class="cbx" for="FAnonrefun_dynamic_1"></label>
                                            <label class="lbl fltcntnt" for="FAnonrefun_dynamic_1">Non-Refundable</label>
                                        </div>
                                        <br />
                                        <div class="title">
                                            <div class="titleContent">
                                                Flight Type
                                            </div>
                                        </div>
                                        <div class="cntr">
                                            <input style="display: none;" id="FAlcc_dynamic_1" class="cb chkfilter chkfilterflttyp" data-filter="lcc" type="checkbox" />
                                            <label class="cbx" for="FAlcc_dynamic_1"></label>
                                            <label class="lbl fltcntnt" for="FAlcc_dynamic_1">LCC</label>
                                        </div>
                                        <div class="cntr">
                                            <input style="display: none;" id="FAfsc_dynamic_1" class="cb chkfilter chkfilterflttyp" data-filter="fsc" type="checkbox" />
                                            <label class="cbx" for="FAfsc_dynamic_1"></label>
                                            <label class="lbl fltcntnt" for="FAfsc_dynamic_1">FSC</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="clearFilter clearFilterNone col-lg-2 col-xs-12">
                                @*<span class="fa fa-repeat" style="font-size: 20px;"></span><span style="padding: 10px; font-size: 13px;">Clear Filters</span>*@
                            </div>
                        </div>
                    </div>
                </div>
                @*filtration part*@
            </div>

            <div id="dvsamplemain" class="rightside Topdecrease" style="margin-top: 0%;">
                <div class="row row-mob-5 row10" style="margin-bottom: 5px;">
                    <div class="col-xs-12 col10">
                        <div id="availload" class="row row10">
                            <div class="col-lg-12 col-mob-5 col10" id="availresponse">
                                <section id="content">
                                    <div class="row row10" id="commonSorting">
                                        <div class="col-xs-12 fontsize13 col10">
                                            <div class="sort-by-section clearfix box" style="display: none;" id="onewayheaders">
                                                <div class="row row5">
                                                    <div class="col-md-6 col-md-push-6 col-xs-12 col5">
                                                        <div class="row row5">
                                                            <div class="col-md-3 col5 col-xs-5">
                                                                <span class="clsearninghdr">Earnings</span>
                                                                <div class="segmented-control clsearning">
                                                                    <input type="radio" name="chkFEarnings" class="clsern-show-hide" id="liern-show">
                                                                    <input type="radio" name="chkFEarnings" class="clsern-show-hide" id="liern-hide" checked="checked">

                                                                    <label for="liern-show" class="availshowhidecls" data-value="show">show</label>
                                                                    <label for="liern-hide" class="availshowhidecls" data-value="hide">hide</label>
                                                                </div>
                                                                <span class="earnsorting animated bounce clssorting_1" data-toggle='tooltip' data-placement='bottom' title='Sort Earning' id="spnEarnsort" data-sortorder="desc" onclick="SortingFAvail_Earnings('earning_1',this);"><i class="fa fa-sort-alpha-asc"></i></span>
                                                            </div>
                                                            <div class="col-md-2 col5 col-xs-3 clsNFare" style="display: block !important">
                                                                <div class="sort-by-title block-sm dvnfare">
                                                                    <div class="mk-trc" data-style="check" data-text="true" style="float: right;">
                                                                        <input id="chkNFare" type="checkbox" name="radio1" class="checkbox_availchkAll">
                                                                        <label for="chkNFare" class="clslblNFare">
                                                                            <i class="checkbox_avail checkbox_availchk1"></i>N.Fare
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-5 col5 col-xs-4">
                                                                <div class="row row5">
                                                                    <div class="col-xs-6 col5 headericons">
                                                                        <span id="btnPrev">
                                                                            <img src="@Url.Content("~/Images/icons/arrowleftwhite.png")" alt="" />
                                                                            Prev<span class="hidden-xs" style="padding-left: 0px;">ious Day</span>
                                                                        </span>
                                                                    </div>
                                                                    <div class="col-xs-6 col5 headericons">
                                                                        <span id="btnNext">Next <span class="hidden-xs" style="padding-left: 0px;">Day</span>
                                                                            <img src="@Url.Content("~/Images/icons/arrowrightwhite.png")" alt="" />
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-2 col5 col-xs-12">
                                                                <div class="availCrncy">
                                                                    <h6 class="allfare">All fares in</h6>
                                                                    <span class="crncy clscurrency">-</span>
                                                                </div>
                                                            </div>

                                                        </div>


                                                    </div>
                                                    <div class="col-md-6 col-md-pull-6 col5 mobabsfltcont">


                                                        <div class="row row5">
                                                            <div class="col-md-4 col5" style="display: none">
                                                                <div class="sort-by-title block-sm dvnfare clsNFare">
                                                                    <div class="mk-trc" data-style="check" data-text="true" style="float: right;">
                                                                        <input id="airlinemat" type="checkbox" name="airlinemat" class="checkbox_availchkAll  user_name" value="2">
                                                                        <label for="airlinemat" class="clslblNFare">
                                                                            <i class="checkbox_avail checkbox_availchk1"></i>Airline Matrix
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col5">
                                                                <div class="sort-by-title block-sm dvnfare clsNFare">
                                                                    <div class="mk-trc" data-style="check" data-text="true" style="float: right;">
                                                                        <input id="chkDirFlt" type="checkbox" name="chkDirFlt" class="checkbox_availchkAll chkcommonfilter user_name" value="2">
                                                                        <label for="chkDirFlt" class="clslblNFare">
                                                                            <i class="checkbox_avail checkbox_availchk1"></i>Direct Flight
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-4 col5">
                                                                <div class="sort-by-title block-sm dvnfare clsNFare">
                                                                    <div class="mk-trc" data-style="check" data-text="true" style="float: right;">
                                                                        <input id="chkNonstpFlt" type="checkbox" name="chkNonstpFlt" class="checkbox_availchkAll chkcommonfilter">
                                                                        <label for="chkNonstpFlt" class="clslblNFare">
                                                                            <i class="checkbox_avail checkbox_availchk1"></i>Non-stop Flight
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>


                                        @*flight airline matrix filteration on 20180322*@
                                        <div class="col-xs-12 " id="airlinemat_main_div_1" style="display: none">
                                            <div id="sepfilterTab" class="row row0 filtertab">
                                            </div>

                                            <div class="col-xs-8 col-xs-offset-4" style="color: #fff; padding: 0; text-align: center;">
                                                <div class="cntr col-xs-2">
                                                    <input style="display: none;" id="FAstop11_dynamic_1" class="cb airlinechkfilter 1chkfilterstop" data-filter="stop1" type="checkbox" />
                                                    <label class="cbx cbxmart" for="FAstop11_dynamic_1"></label>
                                                    <label class="lbl fltcntnt" for="FAstop11_dynamic_1">1 Stop</label>
                                                </div>
                                                <div class="cntr col-xs-2">
                                                    <input style="display: none;" id="FAstop21_dynamic_1" class="cb airlinechkfilter 1chkfilterstop" data-filter="stop2" type="checkbox" />
                                                    <label class="cbx cbxmart" for="FAstop21_dynamic_1"></label>
                                                    <label class="lbl fltcntnt" for="FAstop21_dynamic_1">2 Stops</label>
                                                </div>
                                                <div class="cntr col-xs-2">
                                                    <input style="display: none;" id="FAstop31_dynamic_1" class="cb airlinechkfilter 1chkfilterstop" data-filter="stop2+" type="checkbox" />
                                                    <label class="cbx cbxmart   " for="FAstop31_dynamic_1"></label>
                                                    <label class="lbl fltcntnt" for="FAstop31_dynamic_1">2+ Stops</label>
                                                </div>
                                            </div>

                                            <div class="col-xs-12">
                                                <div class="col-xs-2" style="text-align: center; padding-right: 0px; top: -2px;">
                                                    <table class="table table-responsive tablestyle1" cellspacing="0" cellpadding="0" style="width: 100%; background: #fff;">
                                                        <tbody style="border-right: 1px dashed #ccc;">
                                                            <tr style="background-color: #dddddd;">
                                                                <td class="tmespnbor"></td>
                                                            </tr>
                                                            <tr>
                                                                <td class="tmespn">Time Span</td>
                                                            </tr>
                                                            <tr>
                                                                <td id="morncls" class="tmespn  matrixflight">
                                                                    <input type="checkbox" id="matrix0to6_dynamic_1" class="chkfilterdept_mat " data-filter="dept1" style="display: none"><label for="matrix0to6_dynamic_1" class="labletospancls matrix0to6_dynamic_1">Morning</label></td>
                                                            </tr>
                                                            <tr>
                                                                <td id="aftrcls" class="tmespn  matrixflight">
                                                                    <input type="checkbox" id="matrix1to6_dynamic_1" class="chkfilterdept_mat " data-filter="dept2" style="display: none"><label for="matrix1to6_dynamic_1" class="labletospancls matrix1to6_dynamic_1">After Noon</label></td>
                                                            </tr>
                                                            <tr>
                                                                <td id="nighcls" class="tmespn  matrixflight">
                                                                    <input type="checkbox" id="matrix2to6_dynamic_1" class="chkfilterdept_mat " data-filter="dept3" style="display: none"><label for="matrix2to6_dynamic_1" class="labletospancls matrix2to6_dynamic_1">Night</label></td>
                                                            </tr>
                                                            <tr>
                                                                <td id="midnigcls" class="tmespn  matrixflight">
                                                                    <input type="checkbox" id="matrix3to6_dynamic_1" class="chkfilterdept_mat " data-filter="dept4" style="display: none"><label for="matrix3to6_dynamic_1" class="labletospancls matrix3to6_dynamic_1">Midnight</label></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                                <div class="col-xs-10  owl-carousel owl-theme" id="airline_matrixhtml" style="padding-left: 0px;"></div>
                                            </div>
                                        </div>


                                        @*end*@

                                    </div>

                                    <div class="row row10" id="spnTotalFAvailCntParent" style="background-color: #f3f3f3;">
                                        <div class="col-xs-12">
                                            <span class="clsfltAvailCnt sort-by-title">
                                                <span id="spnActlFAvailCnt" class="zeroflt">--</span> of <span id="spnTotalFAvailCnt" class="zeroflt">--</span> flight(s) found.
                                            </span>
                                        </div>
                                    </div>
                                    <div class="row row10 hidden-md hidden-sm hidden-lg city_date">
                                        <div class="col-xs-6">

                                            <span id="fromdate"></span><span id="singlearrow" style="display: none"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></span><span id="doublearrow" style="display: none"><i class="fa fa-exchange" aria-hidden="true"></i></span><span id="todate"></span>

                                        </div>
                                        <div class="col-xs-6">
                                            <span id="oneway_deptdate"></span>
                                            <span id="ifen">- </span>
                                            <span id="round_depdate"></span>
                                        </div>

                                    </div>
                                    <span id="spnSortindicate" class="sortindicate animated slideInLeft hidden-xs" style="display: none;">Sort by <i class="fa fa-angle-double-right"></i></span>
                                    <div class="row row10 availSetParent" id="dvonewayParent">
                                        <div class="col-xs-12 col10 clsmobilestickysort">
                                            <ul class="sort-bar clearfix block-sm onewayhdrsort" style="margin-bottom: 0px;">
                                                <li class="sort-by-name clssorting fst clssorting_O_1" data-sortorder="asc" onclick="SortingFAvail('airline_1',this);"><span>Airline <i></i></span></li>
                                                <li class="sort-by-rating clssorting clssorting_O_1" data-sortorder="asc" onclick="SortingFAvail('depart_1',this);"><span>Departure <i></i></span></li>
                                                <li class="sort-by-rating clssorting clssorting_O_1" data-sortorder="asc" onclick="SortingFAvail('duration_1',this);"><span>Duration <i></i></span></li>
                                                <li class="sort-by-rating clssorting clssorting_O_1" data-sortorder="asc" onclick="SortingFAvail('arrivsort_1',this);"><span>Arrival <i></i></span></li>
                                                <li class="sort-by-price clssorting clssorting_O_1" id="sortFAvail_price_dynamic_O_1" data-sortorder="asc" onclick="SortingFAvail('price_1',this);" style="border-right: 1px solid #dddddd !important;"><span>Fare <i class="fa fa-long-arrow-down"></i></span></li>
                                            </ul>

                                            <div class="sort-by-title block-sm clsonewayallcheck hidden-xs" style="margin-right: 9px; float: right;">

                                                <div class="mk-trc" data-style="check" data-text="true" style="float: right">
                                                    <input id="chkCheckall" type="checkbox" name="radio1" class="checkbox_availchkAll">
                                                    <label for="chkCheckall"><i class="checkbox_avail checkbox_availchk1"></i></label>
                                                </div>

                                            </div>

                                        </div>
                                        <div class="col-xs-12 fontsize13 col10">
                                            <div class="flight-list listing-style3 flight flight-listavail col15" id="availset_O_1">
                                            </div>
                                            @*<div id='listingsloading' style="position: fixed; z-index: 1000; top: 94%; display: none;"><span class="Textleft" style="width:90%;" id="errload"></span> <span style="cursor:pointer;width:1%;font-size:15px;font-weight:bold; float:right;" onclick="closemsg()">X</span></div> *@

                                        </div>
                                    </div>

                                    <div class="row row10 availSetParent" id="dvroundTrpParent">
                                        @*roundtrip avail*@


                                        <div class="col-xs-12 col10 clsmobilestickysort mobRsortstyle">
                                            <div class="row row10 hidden-lg hidden-md hidden-sm clssortbotmtip">
                                                <span class="tip" onclick="javascript:ShowHideRTrpSorting(this); return false;" id="sortOpenClose"><i class="fa fa-angle-up"></i><span>Open</span> Sorting</span>
                                                <div class="borderbtm"></div>
                                            </div>

                                            <div class="row row10 bgwhite" id="spnTotalFRoundAvailCntParent" style="background-color: #fff">
                                                <div class="col-xs-6 col10 txt-r hidden-xs">
                                                    <span class="clsfltAvailCnt">Showing <span id="spnActlFAvailCnt_R_1" class="zeroflt">0</span> of <span id="spnTotalFAvailCnt_R_1" class="zeroflt">0</span> Flights found. </span>
                                                </div>
                                                <div class="col-xs-6 col10 txt-r hidden-xs">
                                                    <span class="clsfltAvailCnt">Showing <span id="spnActlFAvailCnt_R_2" class="zeroflt">0</span> of <span id="spnTotalFAvailCnt_R_2" class="zeroflt">0</span> Flights found. </span>
                                                </div>
                                            </div>

                                            <div class="row row10 bgwhite" id="dvmobRTrpSort">
                                                <div class="col-sm-6 col-xs-12 col10 mob-mrg-sort">
                                                    <ul class="sort-bar clearfix block-sm onewayhdrsort" style="margin-bottom: 0px;">
                                                        <li class="sort-by-name clssorting fst clssorting_R_1" data-sortorder="asc" onclick="SortingFAvail('airline_1',this);"><span>Airline <i></i></span></li>
                                                        <li class="sort-by-rating clssorting clssorting_R_1" data-sortorder="asc" onclick="SortingFAvail('depart_1',this);"><span>Departure <i></i></span></li>
                                                        <li class="sort-by-rating clssorting clssorting_R_1" data-sortorder="asc" onclick="SortingFAvail('duration_1',this);"><span>Duration <i></i></span></li>
                                                        <li class="sort-by-rating clssorting clssorting_R_1" data-sortorder="asc" onclick="SortingFAvail('arrivsort_1',this);"><span>Arrival <i></i></span></li>
                                                        <li class="sort-by-price clssorting clssorting_R_1" id="sortFAvail_price_dynamic_R_1" data-sortorder="asc" onclick="SortingFAvail('price_1',this);"><span>Fare <i class="fa fa-long-arrow-down"></i></span></li>
                                                    </ul>

                                                    <div class="sort-by-title block-sm clsonewayallcheck hidden-xs" style="margin-right: 9px; float: right;">

                                                        <div class="mk-trc" data-style="check" data-text="true" style="float: right">
                                                            <input id="chkCheckall_dynamic_R_1" type="checkbox" name="radio1" class="checkbox_availchkAll clsDynamicChkAll">
                                                            <label for="chkCheckall_dynamic_R_1"><i class="checkbox_avail checkbox_availchk1"></i></label>
                                                        </div>

                                                    </div>

                                                </div>
                                                <div class="col-sm-6 col-xs-12 col10 mob-mrg-sort">
                                                    <ul class="sort-bar clearfix block-sm onewayhdrsort" style="margin-bottom: 0px; box-shadow: 2px 0px 1px 1px #ccc;">
                                                        <li class="sort-by-name clssorting fst clssorting_R_2" data-sortorder="asc" onclick="SortingFAvail('airline_2',this);"><span>Airline <i></i></span></li>
                                                        <li class="sort-by-rating clssorting clssorting_R_2" data-sortorder="asc" onclick="SortingFAvail('depart_2',this);"><span>Departure <i></i></span></li>
                                                        <li class="sort-by-rating clssorting clssorting_R_2" data-sortorder="asc" onclick="SortingFAvail('duration_2',this);"><span>Duration <i></i></span></li>
                                                        <li class="sort-by-rating clssorting clssorting_R_2" data-sortorder="asc" onclick="SortingFAvail('arrivsort_2',this);"><span>Arrival <i></i></span></li>
                                                        <li class="sort-by-price clssorting clssorting_R_2" id="sortFAvail_price_dynamic_R_2" data-sortorder="asc" onclick="SortingFAvail('price_2',this);"><span>Fare <i class="fa fa-long-arrow-down"></i></span></li>
                                                    </ul>

                                                    <div class="sort-by-title block-sm clsonewayallcheck hidden-xs" style="margin-right: 9px; float: right;">

                                                        <div class="mk-trc" data-style="check" data-text="true" style="float: right">
                                                            <input id="chkCheckall_dynamic_R_2" type="checkbox" name="radio1" class="checkbox_availchkAll clsDynamicChkAll">
                                                            <label for="chkCheckall_dynamic_R_2"><i class="checkbox_avail checkbox_availchk1"></i></label>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>

                                            <div id="dvStickyFltSlectRAvail" class="clstickselAvailbtm">
                                                <div class="container mobwidth100per">
                                                    <div class="row row0">
                                                        <div class="col-xs-4 col5 clsrounseleAvail">
                                                            <div class="row row5">
                                                                <div class="col-xs-12 col5 seletbtmavailclr" id="seleRAvail1">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-xs-4 col-sm-push-0 col-xs-push-4 col5 clsrounseleAvail">
                                                            <div class="row row5">
                                                                <div class="col-xs-12 col5 seletbtmavailclr" id="seleRAvail2">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="col-xs-4 col-sm-pull-0 col-xs-pull-4 col5 bothborder" style="border-left: 1px solid #eee;">
                                                            <div class="row row5">
                                                                <div class="col-sm-6 col-xs-12 col5" style="text-align: center;">
                                                                    <p class="spnGrandTot hidden-xs">Grand Total</p>
                                                                    <span class="spnGrandTotFare " id="spnGrandTotFare" data-fare-o="" data-fare-r=""></span>
                                                                </div>
                                                                <div class="col-sm-6 col-xs-12 col5 btnseleRAvl">
                                                                    <button id="selectclickbuttonRTrip" data-dep-id="" data-ret-id="" class="button btn-small selebtn" onclick="javascript:SelectRtripFAvail('1','1')">Select</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-6 fontsize13 col10 mob-pad-rit-1">
                                            <div class="flight-list listing-style3 flight col-mob-10 flight-listavail col15 clsroundAvail" id="availset_R_1">
                                            </div>
                                            @*<div id='listingsloading' style="position: fixed; z-index: 1000; top: 94%; display: none;"><span class="Textleft" style="width:90%;" id="errload"></span> <span style="cursor:pointer;width:1%;font-size:15px;font-weight:bold; float:right;" onclick="closemsg()">X</span></div> *@



                                        </div>
                                        <div class="col-xs-6 fontsize13 col10 mob-pad-lft-1">
                                            <div class="flight-list listing-style3 flight col-mob-10 flight-listavail col15 clsroundAvail" id="availset_R_2">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row row10 availSetParent" id="dvmultiCtyParent">

                                        <div id="dvStickyFltSlectMultiAvail" class="clstickselAvailbtm">
                                            <div class="container mobwidth100per">
                                                <div class="row row0">
                                                    <div class="col-xs-9 col5 clsrounseleAvail">
                                                        <div class="row row5" id="seleMulAvailstikbtm">
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-3 col5 bothborder" style="border-left: 1px solid #eee;">
                                                        <div class="row row5">
                                                            <div class="col-sm-6 col-xs-12 col5" style="text-align: center;">
                                                                <p class="spnGrandTot hidden-xs">Grand Total</p>
                                                                <span class="spnGrandTotFare " id="spnMGrandTotFare"></span>
                                                            </div>
                                                            <div class="col-sm-6 col-xs-12 col5 btnseleRAvl">
                                                                <button id="selectclickbuttonMCity" class="button btn-small selebtn" onclick="javascript:SelectMcityFAvail()">Select</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-xs-12 fontsize13 col10 flight-listavail" id="dvmultiCtyAvail">
                                        </div>
                                    </div>
                                </section>
                                <div id="stickyNofltFound" style="display: none;">
                                    <p class="noflt"></p>
                                    <span class="closebtn"><i class="fa fa-close"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="dvSelectView" style="display: none; padding: 15px; position: relative;">
        </div>
        <div id="diverrordetails" style="display: none;">
        </div>
        <div id="dvBookinsuccess" style="display: none; padding: 15px; background: #fff;">
        </div>
    </div>
    <a href="javascript:void(0);" id="scrolls" title="Scroll to Top" style="display: none;">Top<span></span></a>
    <div class="modal fade" id="modal-SendAvailmail" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" style="top: 20%;">
            <div class="modal-content">
                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="header paymentpopups">
                                Send Email
                            </div>
                            <span class="spnclosepopup" data-dismiss="modal"><i class="fa fa-close"></i></span>
                        </div>
                    </div>
                    <div class="main">
                        <div class="row" style="margin: 15px;">
                            <div class="col-lg-12">

                                <div class="row">
                                    <div class="col-lg-12" style="margin-bottom: 15px;">
                                        <p class="validateTips"><span style="color: red;">*</span>All form fields are required.</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-xs-12">
                                        <span>From</span>
                                    </div>
                                    <div class="col-lg-8 col-xs-12" style="margin-bottom: 15px;">
                                        <div class="dv-anim input-effect m-0 m-sm-t20">
                                            <input id="txtmailFrom1" class="txt-anim FApopupcng" maxlength="50" type="text" onkeypress="return AvoidSpace();" />
                                            <label>From Mail ID</label>
                                            <span class="focus-border">
                                                <i></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-xs-12">
                                        <span>Subject</span>
                                    </div>
                                    <div class="col-lg-8 col-xs-12" style="margin-bottom: 15px;">
                                        <div class="dv-anim input-effect m-0 m-sm-t20">
                                            <input id="txtSubject1" class="txt-anim FApopupcng" maxlength="50" value="Flight Availability" type="text" />
                                            <span class="focus-border">
                                                <i></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-xs-12">
                                        <span>Mail to</span>
                                    </div>
                                    <div class="col-lg-8 col-xs-12" style="margin-bottom: 15px;">
                                        <div class="dv-anim input-effect m-0 m-sm-t20">
                                            <input id="txtToEmail1" maxlength="50" class="txt-anim FApopupcng" type="text" onkeypress="return AvoidSpace();" />
                                            <label>Your Email Id</label>
                                            <span class="focus-border">
                                                <i></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <div class="row" style="margin-bottom: 15px;">
                                <div class="col-md-offset-3 col-md-3 col-xs-6" style="margin-bottom: 15px;">
                                    <input type="button" class="btn btn-md btn-primary width100per" id="btnOKMAil" value="Send" onclick="javascript: return Availmailsendings();">
                                    <i id="ipopupLoading" class="fa fa-spinner fa-spin" style="font-size: 18px; color: #fff; display: none;"></i>
                                </div>
                                <div class="col-md-3 col-xs-6" style="margin-bottom: 15px;">
                                    <input type="button" value="Clear" class="btn btn-md btn-danger width100per" id="btnclearFAvailmailpops" />
                                </div>
                            </div>
                            <div class="row" style="margin-bottom: 15px;">
                                <div class="col-lg-12 col-xs-12">
                                    <div id="dvavailmailerr">
                                        <div class="message_wrap showhide">
                                            <p class="message">
                                                <span id="dvavailmailerr_msg" class="error">All field(s) should not be empty.</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="modal-SendWhatsapp" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" style="top: 20%;">
            <div class="modal-content">
                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="header paymentpopups">
                                Send Message
                            </div>
                            <span class="spnclosepopup" data-dismiss="modal"><i class="fa fa-close"></i></span>
                        </div>
                    </div>
                    <div class="main">
                        <div class="row" style="margin: 15px;">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-lg-12" style="margin-bottom: 15px;">
                                        <p class="validateTips"><span style="color: red;">*</span>All form fields are required.</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-xs-12" style="margin-top: 10px;">
                                        <span>Whatsapp Number<span style="color: red">*</span></span>
                                    </div>
                                    <div class="col-lg-1 col-xs-12" style="margin-top: 10px; width: 5px;">
                                        <div class="dv-anim input-effect m-0 m-sm-t20">
                                            <label>+</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-xs-12" style="margin-bottom: 15px;">
                                        <div class="dv-anim input-effect m-0 m-sm-t20">
                                            <input id="txt_whatsapptitle1" class="txt-anim FApopupcng" maxlength="4" type="text" value="@System.Configuration.ConfigurationManager.AppSettings["Whatsappcountrycode"]" onkeypress="javascript:return isNumericVal(event);" />
                                        </div>
                                    </div>
                                    <div class="col-lg-5 col-xs-12" style="margin-bottom: 15px;">
                                        <div class="dv-anim input-effect m-0 m-sm-t20">
                                            <input id="txtwhatspno1" class="txt-anim FApopupcng" maxlength="13" type="text" onkeypress="javascript:return isNumericVal(event);" />
                                            <label>Send To</label>
                                            <span class="focus-border">
                                                <i></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr />
                            <div class="row" style="margin-bottom: 15px;">
                                <div class="col-md-offset-3 col-md-3 col-xs-6" style="margin-bottom: 15px;">
                                    <input type="button" class="btn btn-md btn-primary width100per" id="btnOKchat" value="Send" onclick="javascript: return Availwhatsappmsgsend();"><i id="ipopupLoadings" class="fa fa-spinner fa-spin" style="font-size: 18px; color: #fff; display: none;"></i>
                                </div>
                                <div class="col-md-3 col-xs-6" style="margin-bottom: 15px;">
                                    <input type="button" value="Cancel" class="btn btn-md btn-danger width100per" id="btnclearFAvailsmspopip" />
                                </div>
                            </div>
                            <div class="row" style="margin-left: 15px; font-weight: bold">Note: You must confirm to login web whatsapp in same browser</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!--  Fare change Comfirm Popup Start-->
    <div class="modal fade" id="modal_fr_confirm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="main">
                        <div class="row">
                            <div class="col-xs-12" style="text-align: center;">
                                <p class="confrm-hdr">Confirmation Alert</p>
                                <p style="font-size: 13px; color: #333;" id="pfrConfirmMsg">Are you sure, You want to Continue ?</p>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 15px;">
                            <div class="col-md-offset-3 col-md-3 col-xs-6">
                                <input type="button" value="No" data-dismiss="modal" class="btn btn-md btn-primary width100per" />
                            </div>
                            <div class="col-md-3 col-xs-6">
                                <input type="button" value="Yes" class="btn btn-md btn-danger width100per" id="btnContinueFrChang" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fare change Comfirm Popup End-->

    <!--  Fare change Comfirm Popup Start-->
    <div class="modal fade" id="modal_confirm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="main">
                        <div class="row">
                            <div class="col-xs-12" style="text-align: center;">
                                <p class="confrm-hdr">Confirmation Alert</p>
                                <p style="font-size: 13px; color: #333;" id="ConfirmMsg">Are you sure, You want to Continue ?</p>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 15px;">
                            <div class="col-md-offset-3 col-md-3 col-xs-6">
                                <input type="button" value="No" data-dismiss="modal" class="btn btn-md btn-primary width100per" />
                            </div>
                            <div class="col-md-3 col-xs-6">
                                <input type="button" value="Yes" class="btn btn-md btn-danger width100per" id="btnContinueChange" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fare change Comfirm Popup End-->

    <!--  Fare change Comfirm Popup Start-->
    <div class="modal fade" id="modal_fr_confirm1" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="main">
                        <div class="row">
                            <div class="col-xs-12" style="text-align: center;">
                                <p class="confrm-hdr">Confirmation Alert</p>
                                <p style="font-size: 13px; color: #333;" id="pfrConfirmMsg1">Are you sure, You want to Continue ?</p>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 15px;">
                            <div class="col-md-offset-3 col-md-3 col-xs-6">
                                <input type="button" value="No" data-dismiss="modal" class="btn btn-md btn-primary width100per" />
                            </div>
                            <div class="col-md-3 col-xs-6">
                                <input type="button" value="Yes" class="btn btn-md btn-danger width100per" id="btnContinueFrChang1" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fare change Comfirm Popup End-->

    <!--  Fare change Comfirm Popup Start-->
    <div class="modal fade" id="modal_rsp_confirm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="main">
                        <div class="row">
                            <div class="col-xs-12" style="text-align: center;">
                                <p class="confrm-hdr">Confirmation Alert</p>
                                <p style="font-size: 13px; color: #333;">Please ensure Travel Documents are in order before booking the Ticket.</p>
                                <p style="font-size: 13px; color: #333;">Click on Proceed if you agree</p>
                            </div>
                        </div>
                        <div class="row" style="margin-top: 15px;">
                            <div class="col-md-offset-2 col-md-5 col-xs-6">
                                <input type="button" value="No, I don't agree" data-dismiss="modal" class="btn btn-md btn-primary width100per" />
                            </div>
                            <div class="col-md-3 col-xs-6">
                                <input type="button" value="Yes, I agree" class="btn btn-md btn-danger width100per" id="agreeroundfare" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Fare change Comfirm Popup End-->

    <!--  Booking SessionExp Comfirm Popup Start-->
    <div class="modal fade" id="modal-bkngsess" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="main">
                        <div class="row">
                            <div class="col-xs-12" style="text-align: center;">
                                <p id="PpopContnt"></p>
                            </div>
                        </div>
                        <hr />
                        <div class="row" style="margin-bottom: 15px;">
                            <center>
                                <input type="button" value="OK" class="btn btn-md btn-primary width100per" style="max-width:120px; width:100%;" id="btnokBkngsessionExp" />
                            </center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Booking SessionExp Comfirm Popup End-->
    <!--  Booking SessionExp Comfirm Popup Start-->
    <div class="modal fade" id="modal-splfare" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close popClose" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title custom_align stylishHeader">Normal vs Special fare Comparision</h5>
                </div>

                <div class="modal-body clsPopupBody" style="padding: 10px;">
                    <div class="main">
                        <div class="row">
                            <div class="col-xs-12" style="text-align: center;" id="dvSplFareCmpr">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Booking SessionExp Comfirm Popup End-->

    <div id="modal-Fare" class="iziModal addtop" style=""></div>
    <div id="modal-alert" class="iziModal"></div>
    <div id="modal-content" class="iziModal"></div>
    <div id="modal-iframe" class="iziModal"></div>

    <input type="hidden" id="hdthread" />
    <input type="hidden" id="hdtxt_trip" />
    <input type="hidden" id="newthreadkey" />
    <input type="hidden" id="lccthreadkey" />
    <input type="hidden" id="fscthreadkey" />
    <input type="hidden" id="hdnMultiThread" />
    <input type="hidden" id="hdn_doublethread" />
    <input type="hidden" id="hdn_allowtrip" value="@ViewBag.hdn_allowtrip" />
    <input type="hidden" id="allowtripflag" />
    <input type="hidden" id="hdn_checkflag" value="@ViewBag.hdn_checkflag"  />
    <input type="hidden" id="hdtxt_origin" />
    <input type="hidden" id="hdtxt_destination" />
    <input type="hidden" id="hdtxt_depa_date" />
    <input type="hidden" id="hdtxt_Arrivedate" />
    <input type="hidden" id="hdtxt_adultcount" />
    <input type="hidden" id="hdtxt_childcount" />
    <input type="hidden" id="hdtxt_infantcount" />
    <input type="hidden" id="hdnMulti" />
    <input type="hidden" id="hdnHS" />
    <input type="hidden" id="hdndirect" />
    <input type="hidden" id="hdnsAllowmulticlass" value="@ViewBag.hdnsAllowmulticlass" />
    <input type="hidden" id="hdnFlightName" value="" />
    <input type="hidden" id="HDN_MinFare" value="" />
    <input type="hidden" id="HDN_MaxFare" value="" />
    <input type="hidden" id="HDN_CURRENCY_code" value="" />
    <input type="hidden" id="hdn_country"  value="@ViewBag.hdn_country" />
    <input type="hidden" id="hdntrip_country"  value="@ViewBag.hdntrip_country" />
    <a style="display: none;" id="hdn_savefile"></a>
    <input type="checkbox" id="Nfare" style="display: none;">
    <input type="hidden" id="AvaiText" value="" />
    <input type="hidden" id="hdnsfcthread" value="" />
    <input type="hidden" id="hdn_productname" value="@ViewBag.hdnproductname" />
    <input type="hidden" id="hdn_Baseorgin" value="@ViewBag.hdnBaseorgin" />
    <input type="hidden" id="hdnAppTheme" value="@apptheme" />
    <input type="hidden" id="twooneway" value="@twooneway" />
    <input type="hidden" id="hdn_allowpoweruser" value="@ViewBag.allowalluser" />
    <input type="hidden" id="hdn_availagent" value="" />
    <input type="hidden" id="hdn_availterminal" value="" />
    <input type="hidden" id="hdn_availsendmail" value="" />
    <input type="hidden" id="hdn_availsharemessage" value="" />
    <input type="hidden" id="hdn_availcalendar" value="" />
    <input type="hidden" id="hdn_allowwithfare" value="YES" />
    <input type="hidden" id="hdn_whatsappcntrycde" value="@System.Configuration.ConfigurationManager.AppSettings["Whatsappcountrycode"]" />
     <input type="hidden" id="time_interval" value="@System.Configuration.ConfigurationManager.AppSettings["time_interval"]">
     <input type="hidden" id="time_interval_alert" value="@System.Configuration.ConfigurationManager.AppSettings["time_interval_alert"].ToString()">
    <input type="hidden" id="hdn_allowfarecal" value="1" />
    @*by saranraj*@
    <input type="hidden" id="FlightsString" value="" />
    <input type="hidden" id="FlightswhatsappString" value="" />
    @Scripts.Render("~/bundles/LayoutCommonJS")
    @Scripts.Render("~/bundles/LayoutOtherJS")

    <script src="~/js/Slider/jquery.easing.1.3.js?@fileversion"></script>
    <script src="~/js/owlCarousel/owl.carousel.js?@fileversion"></script>
    <script src="~/js/jquery.tooltipster.min.js?@fileversion"></script>
    <script src="~/js/download.js?@fileversion"></script>
    <script src="~/js/Counter/jquery.counterup.min.js?@fileversion"></script>
    <script src="~/js/Counter/waypoints.min.js?@fileversion"></script>
    <script>
        var airlinelogourl = '@System.Configuration.ConfigurationManager.AppSettings["FlightUrl"].ToString()';
        var multicarrierurl = '@System.Configuration.ConfigurationManager.AppSettings["FlightUrl"].ToString()' + "MultiCarrier.png";
        var Versionflag = '@System.Configuration.ConfigurationManager.AppSettings["flightimageversion"].ToString()';

        var FLAG = "M";
        var sessionreq = 0;
        var LoginUserUniqSessKey = '@qrystrflg';
        var ToticketOption = '@Url.Action("Toticket", "Pnr")';
        var terminal_app = '@strTerminaltype';
        var dateserver = '@currenctdate_ad';
        var origincity = "", destinationcity = "", departuredate = "", arrivaldate = "", adultcount = "", childcount = "", infantcount = "", SectorSpecific = "", MobileAppCurrency = "";
        var triptype = "", segmenttype = "", cabin = "", flightname = "", fltnumkey = "", fltsegmentkey = "", flightoption = "", Hostsearch = "", DirectFlight = "", AirlineCode = "", MobileClass = "";
        $(document).ready(function () {
            $.blockUI({
                message: '<center><div class="loaddiv"><p style="display:block; color:#333; font-size:12px;"> Searching availability </p><p>Please Wait...</p> <div class="loader">Loading...</div> </div></center>',
                css: { backgroundColor: '#fff', padding: '15px', 'border-radius': '5%' }, fadeIn: 0
            });
            $('.clshideErrch').niceSelect();
            $('.arrivacal').css('display', 'none');
            $('.deptvacal').css('width', '100%');
            var owl = $('#searchAddCarousel');
            owl.owlCarousel({
                //stagePadding: 50,
                margin: 10,
                nav: true,
                loop: false,
                autoplay: false,
                autoplayTimeout: 3000,
                autoplayHoverPause: true,
                responsive: {
                    0: {
                        items: 1
                    },
                    600: {
                        items: 2
                    },
                    992: {
                        items: 1
                    }
                }
            });

            var login = document.location.href.split('?')[1].split('&');

            for (var a = 0; a < login.length; a++) {
                if (login[a].split('=')[0] == "ORG") {
                    origincity = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "DES") {
                    destinationcity = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "DEP") {
                    departuredate = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "ARR") {
                    arrivaldate = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "ADT") {
                    adultcount = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "CHD") {
                    childcount = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "INF") {
                    infantcount = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "TRIP") {
                    triptype = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "CLS") {
                    MobileClass = login[a].split('=')[1];
                }
                else if (login[a].split('=')[0] == "CODE") {
                    AirlineCode = login[a].split('=')[1];
                }
                //else if (login[a].split('=')[0] == "HOST") {
                //    Hostsearch = login[a].split('=')[1];
                //}
                //else if (login[a].split('=')[0] == "DIRECT") {
                //    DirectFlight = login[a].split('=')[1];
                //}
                //else if (login[a].split('=')[0] == "CAT") {
                //    flightoption = login[a].split('=')[1];
                //}
                //else if (login[a].split('=')[0] == "SEC") {
                //    SectorSpecific = login[a].split('=')[1];
                //}
                //else if (login[a].split('=')[0] == "CUR") {
                //    MobileAppCurrency = login[a].split('=')[1];
                //}
            }
            //
            Hostsearch = "FALSE";
            DirectFlight = "FALSE"
            flightoption = "ALL";
            SectorSpecific = "FALSE"
            MobileAppCurrency = "INR";
            //
            $("body").data("tripflag", triptype); //$("body").data("tripflag",triptype=="R"? "Y":"O");
            $("#hdtxt_trip").val($("body").data("tripflag").trim());
            if (Hostsearch == "TRUE") {
                $('#hdnHS').val(true);
            }
            else {
                $('#hdnHS').val(false);
            }
            if (DirectFlight == "TRUE") {
                $('#hdndirect').val(true);
            }
            else {
                $('#hdndirect').val(false);
            }
            //search();
        });

        function search() {
            try {
                $('.clscurrency').html(assignedcurrency);
                $("#HDN_CURRENCY_code").val(assignedcurrency);
                dataproperty_array = [];//Added by srinath on 20171006 to improve peroformance
                extrahidem_dataproperty_array = [];//Added by srinath on 20171006 to improve peroformance
                groparr = [];
                groupmain_array = [];
                groupmain_ret = [];
                filterdarray = [];
                Main_totalfilterdarray = [];
                $("#liern-hide")[0].checked = true;
                $('#spnEarnsort').hide('slow');
                $(".airfilterallcheck").html("");
                $("#airline_matrixhtml").html("");
                allAIRLINECode = "";
                //btn_Search("D");  //D- Direct Search, R-Recent Search

                //2 nd method continues
                aryorgcity = [];
                arydescity = [];
                arydepdate = [];
                $("#chkDirFlt")[0].checked = false;
                $("#chkNonstpFlt")[0].checked = false;
                $("#chkNFare")[0].checked = false;
                $("#liern-hide")[0].checked = true;

                $("#hdtxt_origin").val(origincity.trim());
                aryorgcity.push($("#hdtxt_origin").val());

                $("#hdtxt_destination").val(destinationcity.trim());
                arydescity.push($("#hdtxt_destination").val());

                $("#hdtxt_depa_date").val(departuredate);
                arydepdate.push($("#hdtxt_depa_date").val());

                $("#hdtxt_Arrivedate").val(arrivaldate);

                $("#hdtxt_adultcount").val(adultcount);

                $("#hdtxt_childcount").val(childcount);

                $("#hdtxt_infantcount").val(infantcount);

                cabin = "";
                flightname = "";

                $(".flight-listavail").html(""); //For all mode of avail (oneway, roundtrip)...
                $('.headericons').show();
                //Set Segment Type is international or Domestic...by saranraj on 20170522...
                var new_arr = $.grep(loadGlobalcityArrry, function (n, i) {
                    return n.ID == $("#hdtxt_origin").val();
                });
                var new_arr_des = $.grep(loadGlobalcityArrry, function (n, i) {
                    return n.ID == $("#hdtxt_destination").val();
                });
                segmenttype = new_arr[0].CN == assignedcountry && new_arr_des[0].CN == assignedcountry ? "D" : "I";
                $('body').data('segtype', segmenttype);

                if (segmenttype == "I" && triptype=="R")
                {
                    $("body").data("tripflag","Y");
                    $("#hdtxt_trip").val($("body").data("tripflag").trim());
                }
                //End...
                PageSearch();
            }
            catch (e) {

                console.log(e.message);
            }
        }

        var calendrFr = '@Url.Action("CalendarFare", "Search")';
        var searchPageUrl = "@Url.Content("~/Flights/Flights")";
        var FlightsearchUrl = '@Url.Action("FlightSearch", "Search")';
        var GetClassfare = '@Url.Action("GetClassfare", "Search")';
        var FormmulticlasssRequest = '@Url.Action("FormmulticlasssRequest", "Search")';
        var FlightMailUrl = '@Url.Action("Mail_flights", "Flights")';
        var FlightwhatsappUrl = '@Url.Action("Whatsappmessage", "Flights")';
        var loadingimg = '@strLoaderURL';
        var selecturl = '@Url.Action("Flights_DoWork", "Flights")';
        var bestbuyurl = '@Url.Action("Bestbuyfetch", "Flights")';
        var Fetchlocaldata = '@Url.Action("Fetchlocaldata", "Flights")';
        var Bestbuyrule = '@Url.Action("Bestbuyfareruleweb", "Pnr")';
        var splfrurl = '@Url.Action("SplFlt_fare", "Flights")';
        var domMulb4selecturl = '@Url.Action("MulFltb4Select", "Flights")';
        var getfarerule = '@Url.Action("GetFlightFareRule", "Flights")';
        var sessionExb = '@Url.Action("SessionExp", "Redirect")';
        var logdatas = '@Url.Action("LogData", "Flights")';
        var bookingUrl = '@Url.Action("BookingRequest", "Booking")';
        var asyncbookingUrl = '@Url.Action("Asyncbookingresponse", "Booking")';
        var checkTrackstatusUrl = '@Url.Action("PendingTrack", "Booking")';
        var assignedcurrency = '@assignedcurrency';
        var assignedcountry = '@System.Configuration.ConfigurationManager.AppSettings["COUNTRY"].ToString()';
        var imgurl = '@System.Configuration.ConfigurationManager.AppSettings["FlightUrl"].ToString()';
        var imgver = '@System.Configuration.ConfigurationManager.AppSettings["flightimageversion"].ToString()';
        var maxRowCnt = '@System.Configuration.ConfigurationManager.AppSettings["MulMaxRowCnt"].ToString()'; //Max Row Count for Dynamic Control Create , if increase this more rows will create...
        var roundtrip_in = '@System.Configuration.ConfigurationManager.AppSettings["Checktripflag"].ToString()';
        var roundtrip_country_code = '@System.Configuration.ConfigurationManager.AppSettings["COUNTRY"].ToString()';
        var vb_currentdate = "@ViewBag.currentdate";
        var vb_maxdate = "@ViewBag.maxdate";
        var segList = "@_segFlg";
        var Getseatmaps = '@Url.Action("getseatmap", "Booking")';
        var lccAirXML_path = '@Url.Content("~/XML/LccAirlines.xml")';
        var Airlinexml = '@Url.Content("~/XML/CityAirport_Lst.xml?v1.0")';
        var recaptha_validation = '@Url.Action("LogData", "Flights")';

        $("body").data("tripflag", "O");
        $("#hdtxt_trip").val($("body").data("tripflag").trim());
        var loadGlobalcityArrry = [];
        var sessionstrg = "@sessionstrg";
        var JsonData_Round = "";
        var productNames_Round = new Array();
        var productIds_Round = new Object();
        var Cityinfopopup = "";
        var Cityairport = "", statedata = "";

        $(document).ready(function () {
            try {
                $("#hdthread").val('@ViewBag.threadkey');
                $("#newthreadkey").val('@ViewBag.newthreadkey');
                $("#lccthreadkey").val('@ViewBag.lccthreadkey');
                $("#fscthreadkey").val('@ViewBag.fscthreadkey');
                $("#hdn_doublethread").val('@ViewBag.doublethread');
                $("#hdnMultiThread").val('@ViewBag.hdnMultiThread');
                /*Load Airpoart City*/
                var json = [], JsonData = "";
                var jsonresults = "";

                $.ajax({
                    url: Airlinexml,
                    dataType: 'XML',
                    anync: false,
                    success: function (response) {
                        Cityairport = $("AIR", response).map(function () {
                            return {
                                value: $("AN", this).text() + " (" +
                                ($.trim($("ID", this).text()) + ")"),
                                id: $("ID", this).text()
                            };
                        }).get();
                        json = $.xml2json(response);
                        JsonData = json.AIR;
                        JsonData_Round = json.AIR;
                        loadGlobalcityArrry = JsonData;
                        jsonresults = JSON.stringify(JsonData_Round);
                        var citynames = "";
                        airlinecityloadfun(JsonData);
                        search();
                    },
                    error: function (e) {
                    }
                });
            }
            catch (e) {
                console.log(e.message);
            }
        });
        var Airdata = "";
        $(document).ready(function () {
            // load flight options;
            $.ajax({
                url: '@Url.Content("~/XML/AirlineNames.xml")',
            dataType: "xml",
            success: function (xmlResponse) {
                $("body").data("airlinenamexmldata", xmlResponse);
                var data = $("AIRLINEDET", xmlResponse).map(function () {
                    return {
                        value: $("_CODE", this).text()
                    };

                }).get();
                Airdata = $("AIRLINEDET", xmlResponse).map(function () {
                    return {
                        value: $("_NAME", this).text() + " (" +
                        ($.trim($("_CODE", this).text()) + ")"),
                        id: $("_CODE", this).text()
                    };

                }).get();
            }
            });
        });
    $("#btnFmodifySearch").click(function () {
        $('body').data('BackFlag', '');
        $("#hdn_allowfarecal").val("1");
        $('#dvSearchArea').slideToggle();
        $("html, body").animate({ scrollTop: 0 }, 600);
        $("#imodifyclosebtn").css("display", "block");
    });

    $(".modifyclosebtn").click(function () {
        $('body').data('BackFlag', 'AVAIL');
        $("#hdn_allowfarecal").val("2");
        $('#dvSearchArea').slideUp();
        $("#imodifyclosebtn").css("display", "none");
    });

    function loadairportcityname(arg) {
        if (arg != null || arg != "" || arg.length != 0) { //Rare scenario...
            if (loadGlobalcityArrry == null || loadGlobalcityArrry.length == 0) {
                funloadGlobalcityArrry();
            }
            var aircitynamefilter = loadGlobalcityArrry//; $.grep(loadGlobalcityArrry, function (n, i) {        //ADDED BY SARANRAJ 17/11/2016
            //  return n.CN == "IN"
            // });
            var aircityname = $.grep(aircitynamefilter, function (n, i) {
                return n.ID == arg
            });
            var cityfullname = aircityname[0].AN.split('-')[0];
            cityfullname = cityfullname != "" ? cityfullname : arg;
            return cityfullname;
        }
    }

    function airlinecityloadfun(JsonData) {
        try {
            var citynames = "";
            var productNames = new Array();
            var productIds = new Object();
            $.each(JsonData_Round, function (index, AIR) {
                if (AIR.AN.indexOf('-') != -1) {
                    citynames = AIR.AN.split('-')[0].trim();
                } else { citynames = AIR.AN.trim(); }
                if (AIR.CN != "undefined" && AIR.CN.length > 0) {
                    productNames.push(citynames + "-(" + AIR.ID + ")" + "~" + AIR.CN + "~" + AIR.AN); //if comes without ~ symbol normal typeahead ll work...
                    productIds[AIR.AN] = AIR.ID;
                }
            });
        }
        catch (ex) {
        }
    }

        var lastScrollTop = 0;
        $(window).scroll(function () {
            if ($(window).scrollTop() >= 80) {
                $('header').addClass('scrol');
                $('#dvmodifydetails').addClass('fixedmodify');
                $('#resultFilter').addClass('fixedFilter');
                $('#resultFilter').slideUp(); //To default hide filteration area...
                $('#scrolls').fadeIn();
            } else {
                $('header').removeClass('scrol');
                $('#dvmodifydetails').removeClass('fixedmodify');
                $('#resultFilter').removeClass('fixedFilter');
                $('#scrolls').fadeOut();
            }
        });

        $('#scrolls').click(function () {
            $("html, body").animate({ scrollTop: 0 }, 600);
            return false;
        });

        $('#chkCheckall').click(function () {
            if ($('#chkCheckall').is(':checked')) {
                $('.checkbox_availchk').each(function () {
                    this.checked = true;
                });
            }
            else {
                $('.checkbox_availchk').each(function () {
                    this.checked = false;
                });
            }
        });

        $(document).on('click', '.clsDynamicChkAll', function () {
            var idd = this.id;
            var cnt = idd.replace('chkCheckall_dynamic_' + $("body").data("tripflag") + '_', '');
            if ($(this).is(':checked')) {
                $('#availset_' + $("body").data("tripflag") + '_' + cnt + ' .checkbox_availchk').each(function () {
                    this.checked = true;
                });
            }
            else {
                $('#availset_' + $("body").data("tripflag") + '_' + cnt + ' .checkbox_availchk').each(function () {
                    this.checked = false;
                });
            }
        });

        //added by sarath
        var chk1 = $("input[type='checkbox'][value='1']");
        var chk2 = $("input[type='checkbox'][value='2']");
        chk1.on('change', function () {
            chk2.prop('checked', this.checked);
        });

        $(function () {
            $(".tabrow").on("click", "li", function (e) {
                var $this = $(this);
                e.preventDefault();
                $this.parent().find(".selected").removeClass("selected");
                $this.addClass("selected");
            });
        });

        $("#airlinemat").click(function () {
            if ($("#airlinemat")[0].checked == true) {
                $("#airlinemat_main_div_1").slideToggle(500);
            }
            else {
                $("#airlinemat_main_div_1").slideUp(500);
            }
        });

        $("#btnAvailwhtsapp").click(function (e) {// loadwhatsapp
            var c = $('.SelecCheckbox'); //document.getElementsByName('SelectCheckbox')
            var Select_flight = "";
            var Selectflightsend = "";
            var idd = "";
            var triptp = $("#hdtxt_trip")[0].value;
            var segtyp = $('body').data('segtype');
            var loopCnt = (triptp == "O" || triptp == "Y" || (triptp == "M" && segtyp == "I")) ? 1 : triptp == "R" ? 2 : aryOrgMul.length;
            var basetripty = (triptp == "Y" || (triptp == "M" && segtyp == "I")) ? "O" : triptp;
            for (var seg = 1; seg <= loopCnt; seg++) {
                var c = $('#availset_' + basetripty + '_' + seg + ' .SelecCheckbox');
                for (var i = 0; i < c.length; i++) {
                    if (c[i].checked === true) {
                        var litaghtml = c[i].value;
                        idd += $(c[i]).attr('data-val') + "SpRaj";
                        Selectflightsend += litaghtml + "SpRaj";
                        printlength++;
                    }
                }
                if (seg != loopCnt) {
                    idd += "SpRaj"; //For Segment Difference split... by saranraj...
                    Selectflightsend += "SpRaj";//For Segment Difference split... by saranraj...
                }
            }
            if (printlength == 0) {
                showerralert("Please Select atleast one flight.", 5000, "");
                return false;
            }

            document.getElementById("FlightswhatsappString").value = Selectflightsend;
            var Strflights = "";
            var aryFlightsDetails = Selectflightsend.split('SpRaj');
            var aryfligidd = idd.split('SpRaj');

            var Strflights = "";
            var aryFlightsDetails = Selectflightsend.split('SpRaj');
            var aryfligidd = idd.split('SpRaj');
            Strflights += "<div id='PrinTicket1' style='overflow-y:auto; max-height:380px;'><div style='text-align:right;'><label style='color:red;font-size:13px'>*All Fares in:" + assignedcurrency + "</label></div>";

            Strflights += "<br /><table border='1' style='width:100%;font-size:12px;border-collapse:collapse;border-color: #ccc;border: 1px solid #ccc;'>";

            Strflights += "<tr><td colspan='3'><label style='margin-left: 20%;'>Whatsapp Number</label></td><td colspan='5' style='padding: 20px;'><label>+</label><input type='text' id='txt_whatsapptitle' maxlength='4' style='margin-left: 5%;width: 15%;' onkeypress='javascript:return isNumericVal(event);' class='txt-anim FApopupcng' value=" + $("#hdn_whatsappcntrycde").val() + " />&nbsp;&nbsp;<input type='text' style='margin-left: 5%;width: 60%;' class='txt-anim FApopupcng' id='txtwhatspno' maxlength='13' onkeypress='javascript:return isNumericVal(event);' value='' /></td></tr>";

            Strflights += "<tr><td colspan='8' style='margin-left: 15px;font-weight:bold;padding: 15px;'>Note: You must confirm to login web whatsapp in same browser</td></tr>";

            if (triptp == "Y") {
                Strflights += "<tr style='background-color:#27a5f5;color:#fff;height: 35px;'><td colspan='8' style='text-align: center'><lable style='font-size:16px;'><b>" + $("#hdtxt_origin")[0].value + " - " + $("#hdtxt_destination")[0].value + " - " + $("#hdtxt_origin")[0].value + "</b></lable></td></tr>";
            }
            else {
                Strflights += "<tr style='background-color:#27a5f5;color:#fff;height: 35px;'><td colspan='8' style='text-align: center'><lable style='font-size:16px;'><b>" + $("#hdtxt_origin")[0].value + " - " + $("#hdtxt_destination")[0].value + "</b></lable></td></tr>";
            }
            Strflights += "<tr><td colspan='8' style='text-align: right;'><input checked class='rb' id='checkfareyes' style='width: 15px;height: 15px;' type='checkbox' name='checkfare' /><label class='rblbl' for='checkfareyes' style='margin: 0;margin-left: 20px;white-space: nowrap;'>With&nbsp;Fare</label></td></tr>";
            //Strflights += "<tr><td colspan='4' style='text-align: center;'><input checked class='rb' id='checkfareyes' style='width: 15px;height: 15px;' type='checkbox' name='checkfare' onclick='Changewithfare()' /><label class='rblbl' for='checkfareyes' style='margin: 0;margin-left: 20px;white-space: nowrap;'>With&nbsp;Fare</label></td><td colspan='4' style='text-align: center;'><input class='rb' name='checkfare' style='width: 15px;height: 15px;' id='checkfareno' type='checkbox' onclick='Changewithoutfare()' /><label class='rblbl' for='checkfareno' style='margin: 0;margin-left: 20px;white-space: nowrap;'>Without&nbsp;Fare</label></td></tr>";
            Strflights += "<tr style='background-color:#c6e4ff' id='withfare_hdr'><th style='text-align:center'>Airline</th><th style='text-align:center'>Departure</th><th style='text-align:center'>Arrival</th><th style='text-align:center'>Duration</th><th style='text-align:center'>Class</th><th style='text-align:center'>Basic&nbsp;Fare</th><th style='text-align:center'>Gross</th><th style='text-align:center'>Baggage</th></tr>";
            //Strflights += "<tr style='background-color:#c6e4ff;display:none;' id='withoutfare_hdr'><th style='text-align:center'>Airline</th><th style='text-align:center'>Departure</th><th style='text-align:center'>Arrival</th><th style='text-align:center'>Duration</th><th style='text-align:center'>Class</th><th style='text-align:center'>Baggage</th></tr>";
            for (var i = 0; i < aryFlightsDetails.length - 1; i++) {
                if (aryFlightsDetails[i] != "") {
                    var imgpath = $('#fliimage' + aryfligidd[i]).attr("src");
                    if (aryFlightsDetails[i].split("SpLITSaTIS").length > 1) {
                        var Connflight = aryFlightsDetails[i].split("SpLITSaTIS");
                        for (var j = 0; j < Connflight.length; j++) {
                            Strflights += "<tr>";
                            Strflights += "<td style='text-align:center'>" + Connflight[j].split("SpLitPResna")[18] + "<br /><img src='" + imgpath + "'></td>";
                            Strflights += "<td style='text-align:center'>" + Connflight[j].split("SpLitPResna")[0] + "<br>" + Connflight[j].split("SpLitPResna")[2] + "</td>";
                            Strflights += "<td style='text-align:center'>" + Connflight[j].split("SpLitPResna")[1] + "<br>" + Connflight[j].split("SpLitPResna")[3] + "</td>";
                            if (j == 0) {
                                if (Connflight[j].split("SpLitPResna")[22] != null || Connflight[j].split("SpLitPResna")[22] != "") {
                                    Strflights += "<td style='text-align:center;vertical-align:central' rowspan='" + Connflight.length + "'>" + Math.round(parseInt(Connflight[j].split("SpLitPResna")[22]) / 60) + "h:" + Math.round(parseInt(Connflight[j].split("SpLitPResna")[22]) % 60) + "m" + "</td>";
                                }
                                else {
                                    Strflights += "<td style='text-align:center;vertical-align:central' rowspan='" + Connflight.length + "'>" + Connflight[j].split("SpLitPResna")[22] + "</td>";
                                }
                            }
                            Strflights += "<td style='text-align:center'>" + Connflight[j].split("SpLitPResna")[5] + "-" + Connflight[j].split("SpLitPResna")[17] + "</td>";
                            if (j == 0) {
                                Strflights += "<td style='text-align:center' class='withfareoption' rowspan='" + Connflight.length + "'>" + Connflight[j].split("SpLitPResna")[13] + "</td>";
                                Strflights += "<td style='text-align:center' class='withfareoption' rowspan='" + Connflight.length + "'><input type='text' class='txt-anim' id='edit_gross_whatsapp" + i + "' onkeypress='javascript:return isNumericVal(event);'  style='text-align:right;width: 80%;' value='" + Connflight[j].split("SpLitPResna")[31] + "'/></td>";
                            }
                            var packagedet = "";
                            if ((((Connflight[j].split("SpLitPResna")[24]).split("\n")[4]).split(":")[1]) != null || (((Connflight[j].split("SpLitPResna")[24]).split("\n")[4]).split(":")[1]) != "") {
                                packagedet = (((Connflight[j].split("SpLitPResna")[24]).split("\n")[4]).split(":")[1]).split("SpLITSaTIS")[0];
                            }
                            else {
                                packagedet = "N/A";
                            }
                            Strflights += "<td style='text-align:center'>" + packagedet + "</td>";
                            Strflights += "</tr>";
                        }
                    }
                    else {
                        Strflights += "<tr>";
                        Strflights += "<td style='text-align:center'>" + aryFlightsDetails[i].split("SpLitPResna")[18] + "<br /><img src='" + imgpath + "'></td>";
                        Strflights += "<td style='text-align:center'>" + aryFlightsDetails[i].split("SpLitPResna")[0] + "<br />" + aryFlightsDetails[i].split("SpLitPResna")[2] + "</td>";
                        Strflights += "<td style='text-align:center'>" + aryFlightsDetails[i].split("SpLitPResna")[1] + "<br />" + aryFlightsDetails[i].split("SpLitPResna")[3] + "</td>";
                        if (aryFlightsDetails[i].split("SpLitPResna")[22] != null || aryFlightsDetails[i].split("SpLitPResna")[22] != "") {
                            Strflights += "<td style='text-align:center'>" + Math.round(parseInt(aryFlightsDetails[i].split("SpLitPResna")[22]) / 60) + "h:" + Math.round((parseInt(aryFlightsDetails[i].split("SpLitPResna")[22]) % 60)) + "m" + "</td>";
                        }
                        else {
                            Strflights += "<td style='text-align:center'>" + aryFlightsDetails[i].split("SpLitPResna")[22] + "</td>";
                        }
                        Strflights += "<td style='text-align:center'>" + aryFlightsDetails[i].split("SpLitPResna")[5] + "-" + aryFlightsDetails[i].split("SpLitPResna")[17] + "</td>";
                        Strflights += "<td style='text-align:center' class='withfareoption'>" + aryFlightsDetails[i].split("SpLitPResna")[13] + "</td>";
                        Strflights += "<td style='text-align:center' class='withfareoption'><input type='text' id='edit_gross_whatsapp" + i + "' class='txt-anim' onkeypress='javascript:return isNumericVal(event);' style='text-align:right;width: 80%;' value='" + aryFlightsDetails[i].split("SpLitPResna")[31].replace("SpLITSaTIS", "") + "'/></td>";
                        var packagedet = "";
                        if ((((aryFlightsDetails[i].split("SpLitPResna")[24]).split("\n")[4]).split(":")[1]) != null || (((aryFlightsDetails[i].split("SpLitPResna")[24]).split("\n")[4]).split(":")[1]) != "") {
                            packagedet = (((aryFlightsDetails[i].split("SpLitPResna")[24]).split("\n")[4]).split(":")[1]).split("SpLITSaTIS")[0];
                        }
                        else {
                            packagedet = "N/A";
                        }
                        Strflights += "<td style='text-align:center'>" + packagedet + "</td>";
                        Strflights += "</tr>";
                    }
                }
            }
            Strflights += "</table>";
            Strflights += "</div>";
            //Print Button area by saranraj on 20170516...
            Strflights += '<hr><div class="row">';
            Strflights += '<div class="col-md-offset-3 col-md-3 col-xs-6" style="margin-bottom: 15px;">';
            Strflights += '<button type="button" class="btn btn-md btn-primary width100per" id="btnOKPrint" onclick="javascript: return Sharewhatsapp(' + aryFlightsDetails.length + ');">Share on Whatsapp</button>';//<span class="spnbtnicon"><i class="fa fa-print"></i></span>
            Strflights += '</div>';
            Strflights += '<div class="col-md-3 col-xs-6" style="margin-bottom: 15px;">';
            Strflights += '<button type="button" class="btn btn-md btn-danger width100per" id="btnClosePrint" onclick="javascript: return backingtoprint();">Cancel</button>';//<span class="spnbtnicon"><i class="fa fa-close"></i></span>
            Strflights += '</div>';
            Strflights += '</div>';
            //Print Button area by saranraj on 20170516 End...

            //document.getElementById("FlightswhatsappString").value = Strflights;

            showpopuplogin("Share Whatsapp", "", Strflights, true, 850, "");
        });

        function Changewithfare() {
            $("#hdn_allowwithfare").val("YES");
            $("#checkfareyes")[0].checked = true;
            $("#checkfareno")[0].checked = false;

        }

        function Changewithoutfare() {
            $("#hdn_allowwithfare").val("NO");
            $("#checkfareno")[0].checked = true;
            $("#checkfareyes")[0].checked = false;

        }

        function Sharewhatsapp(totlength) {

            var Whatsappcountrycode = "";
            var whatsappno = "";
            if ($("#txt_whatsapptitle").val() == null || $("#txt_whatsapptitle").val() == "") {
                showerralert("Please enter country code", 5000, "");
                return false;
            }
            else {
                Whatsappcountrycode = $("#txt_whatsapptitle").val();
            }
            if ($("#txtwhatspno").val() == null || $("#txtwhatspno").val() == "") {
                showerralert("Please enter whatsapp numbers", 5000, "");
                return false;
            } else {
                whatsappno = $("#txtwhatspno").val();
            }

            var loadvalues = "";
            for (var i = 0; i < totlength - 1; i++) {
                if ($("#edit_gross_whatsapp" + i).val() != null && $("#edit_gross_whatsapp" + i).val() != "" && $("#edit_gross_whatsapp" + i).val() != "0") {
                    loadvalues += $("#edit_gross_whatsapp" + i).val() + "SplitFare";
                }
                else {
                    showerralert("Please enter valid fare for flight " + i + 1, 5000, "");
                    return false;
                }
            }

            document.getElementById("hdn_availsharemessage").value = loadvalues;

            Availwhatsappmsgsend(Whatsappcountrycode, whatsappno);
        }

        function Availwhatsappmsgsend(whatscntrycode, Whatsappno) {
            var Faredetails = document.getElementById("hdn_availsharemessage").value;
            var Flightdet = document.getElementById("FlightswhatsappString").value;

            var FlightsDetails = Flightdet.split("SpRaj");
            var Binddata = "";
            var sendto = whatscntrycode + Whatsappno;

            var Flightno = "";
            var FlightOrigin = "";
            var FlightDestin = "";
            var Flightconnectings = "";
            var FlightDept = "";
            var FlightArr = "";
            var FlightClass = "";
            var FlightBagg = "";
            var FlightFaretype = "";
            var Flightvia = "";
            var Flightgrossfare = "";
            var Checkviaflight = "";

            var flightconnectingorigin = "";
            var flightconnectingdestination = "";

            var Senddata = "";
            var Foundfaretype = "";
            for (var i = 0; i < FlightsDetails.length - 1; i++) {

                var singleflightdata = "";
                if (FlightsDetails[i].indexOf("SpLITSaTIS") > 0) {
                    var Connflight = FlightsDetails[i].split("SpLITSaTIS");
                    if (Connflight != "") {
                        for (var j = 0; j < Connflight.length; j++) {
                            var flidetails = Connflight[j].split("SpLitPResna");
                            Flightno = flidetails[18];
                            FlightDept = flidetails[2];
                            if (j == 0) {
                                Flightgrossfare = Faredetails.split("SplitFare")[i];
                            }
                            flightconnectingorigin = flidetails[0];
                            flightconnectingdestination = flidetails[1];
                            FlightArr = flidetails[3];
                            FlightBagg = ((flidetails[24].split('\n')[4]).split(':')[1] == null || (flidetails[24].split('\n')[4]).split(':')[1] == "") ? "N/A" : (flidetails[24].split('\n')[4]).split(':')[1];
                            FlightFaretype = ((flidetails[32] != null && flidetails[32] != "") ? (flidetails[32] == "TRUE" ? "R" : "NR") : "");
                            if (flidetails[32] == "TRUE" || flidetails[32] == "FALSE") {
                                Foundfaretype = "1";
                            }
                            singleflightdata += Flightno + "SpLiTRaJ" + FlightDept + "SpLiTRaJ" + FlightArr + "SpLiTRaJ" + FlightBagg + "SpLiTRaJ" + Flightgrossfare + "SpLiTRaJ" + FlightFaretype + "SpLiTRaJ" + flightconnectingorigin + "SpLiTRaJ" + flightconnectingdestination + "SplItFliGth";
                        }
                        Senddata += singleflightdata + "SpliTwHatsaPP";
                    }
                }
                else {
                    var flightdetais = FlightsDetails[i].split("SpLitPResna");
                    Flightno = flightdetais[18];
                    FlightDept = flightdetais[2];
                    Flightgrossfare = Faredetails.split("SplitFare")[i];
                    flightconnectingorigin = flightdetais[0];
                    flightconnectingdestination = flightdetais[1];
                    FlightArr = flightdetais[3];
                    FlightBagg = ((flightdetais[24].split('\n')[4]).split(':')[1] == null || (flightdetais[24].split('\n')[4]).split(':')[1] == "") ? "N/A" : (flightdetais[24].split('\n')[4]).split(':')[1];
                    FlightFaretype = (flightdetais[32] != null && flightdetais[32] != "") ? (flightdetais[32] == "TRUE" ? "R" : "NR") : "";

                    if (flightdetais[32] == "TRUE" || flightdetais[32] == "FALSE") {
                        Foundfaretype = "1";
                    }
                    Senddata += Flightno + "SpLiTRaJ" + FlightDept + "SpLiTRaJ" + FlightArr + "SpLiTRaJ" + FlightBagg + "SpLiTRaJ" + Flightgrossfare + "SpLiTRaJ" + FlightFaretype + "SpLiTRaJ" + flightconnectingorigin + "SpLiTRaJ" + flightconnectingdestination + "SpliTwHatsaPP";
                }
            }

            var withfare = "YES";
            if ($("#checkfareyes")[0].checked == true) { withfare = "YES"; } else { withfare = "NO"; }

            var Origin = Airportname($("#hdtxt_origin")[0].value).split('-')[0];
            var Destination = Airportname($("#hdtxt_destination")[0].value).split('-')[0];

            $.ajax({
                type: "POST", 		//GET or POST or PUT or DELETE verb
                url: '@Url.Action("Whatsappmessagenew", "Flights")', 		// Location of the service
                data: '{Whatsappno: "' + sendto + '",Flightdet: "' + Senddata + '",Allowfare:"' + withfare + '",Origin:"' + Origin + '",Destination:"' + Destination + '",Triptype:"' + $("#hdtxt_trip")[0].value + '",Foundfaretype:"' + Foundfaretype + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (json) {//On Successful service call
                    var result = json.Result;
                    $("#modal-SendWhatsapp").hide();
                    if (json.Status == "-1") {
                        window.location = sessionExb;
                        return false;
                    }
                    else {
                        if (result[0] != null && result[0] != "") {
                            window.open("https://web.whatsapp.com/send?phone=" + result[2] + "&text=" + result[0]);
                        }
                    }
                },
                error: function (e) {//On Successful service call
                    $('#modal-SendWhatsapp').hide();
                    $('#btnOKMAil').disabled = false;
                    if (e.status == "500") {
                        window.location.href = sessionExb;
                        return false;
                    }
                }	// When Service call fails
            });

        }

        $("#btnclearFAvailsmspopip").click(function () {
            $("#modal-SendWhatsapp").hide();
        });

        function Availwhatsappmsgsend11() {

            var Flightdet = document.getElementById("FlightswhatsappString").value;

            var FlightsDetails = Flightdet.split("SpRaj");
            var Binddata = "";

            var Whatsappno = $("#txtwhatspno").val();
            var whatscntrycode = $("#txt_whatsapptitle").val();
            if (whatscntrycode == null || whatscntrycode == "") {
                showerralert("please enter mobile country code", 5000, "");
                return false;
            }
            else if (Whatsappno == null || Whatsappno == "") {
                showerralert("please enter whats app no.", 5000, "");
                return false;
            }

            var sendto = whatscntrycode + Whatsappno;

            var Flightno = "";
            var FlightOrigin = "";
            var FlightDestin = "";
            var Flightconnectings = "";
            var FlightDept = "";
            var FlightArr = "";
            var FlightClass = "";
            var FlightBagg = "";
            var FlightFaretype = "";
            var Flightvia = "";
            var Flightgrossfare = "";
            var Checkviaflight = "";

            var Senddata = "";


            for (var i = 0; i < FlightsDetails.length - 1; i++) {
                if (FlightsDetails[i].indexOf("SpLITSaTIS") > 0) {
                    var Connflight = FlightsDetails[i].split("SpLITSaTIS");
                    for (var j = 0; j < Connflight.length; j++) {
                        var flidetails = Connflight[j].split("SpLitPResna");
                        Flightno += flidetails[18] + " - ";
                        if (j == 0) {
                            FlightOrigin = Airportname(flidetails[0]).split('-')[0] + " - ";
                            FlightDept = flidetails[2];
                            Flightgrossfare = flidetails[31] + " " + $("#HDN_CURRENCY_code").val();
                        }
                        if ((j + 1) == Connflight.length) {
                            FlightDestin = Airportname(flidetails[1]).split('-')[0];
                        } else {
                            Flightconnectings += Airportname(flidetails[1]).split('-')[0] + " - ";
                        }

                        if (j == Connflight.length - 1) {
                            FlightArr = flidetails[3];
                        }
                        FlightClass += flidetails[5] + " - ";
                        FlightBagg += ((flidetails[24].split('\n')[4]).split(':')[1] == null || (flidetails[24].split('\n')[4]).split(':')[1] == "") ? "N/A" : (flidetails[24].split('\n')[4]).split(':')[1] + " - ";
                        FlightFaretype += ((flidetails[32] != null && flidetails[32] != "") ? (flidetails[32] == "TRUE" ? "Refundable" : "Non Refundable") : "N/A") + " - ";

                    }
                    Flightno = Flightno.slice(0, -3);
                    FlightClass = FlightClass.slice(0, -3);
                    FlightBagg = FlightBagg.slice(0, -3);
                    FlightFaretype = FlightFaretype.slice(0, -3);
                }
                else {
                    var flightdetais = FlightsDetails[i].split("SpLitPResna");
                    Flightno = flightdetais[18];
                    FlightOrigin = Airportname(flightdetais[0]).split('-')[0] + " - ";
                    FlightDept = flightdetais[2];
                    Flightgrossfare = flightdetais[31] + " " + $("#HDN_CURRENCY_code").val();
                    FlightDestin = Airportname(flightdetais[1]).split('-')[0];
                    FlightArr = flightdetais[3];
                    FlightClass = flightdetais[5];
                    FlightBagg = ((flightdetais[24].split('\n')[4]).split(':')[1] == null || (flightdetais[24].split('\n')[4]).split(':')[1] == "") ? "N/A" : (flightdetais[24].split('\n')[4]).split(':')[1];
                    FlightFaretype = (flightdetais[32] != null && flightdetais[32] != "") ? (flightdetais[32] == "TRUE" ? "Refundable" : "Non Refundable") : "N/A";
                }


                Senddata += Flightno + "SpLiTRaJ" + FlightOrigin + "SpLiTRaJ" + Flightconnectings + "SpLiTRaJ" + FlightDestin + "SpLiTRaJ" + FlightDept + "SpLiTRaJ" + FlightArr + "SpLiTRaJ" + FlightClass + "SpLiTRaJ" + FlightBagg + "SpLiTRaJ" + Flightgrossfare + "SpLiTRaJ" + FlightFaretype + "SpLiTRaJ" + $("#hdtxt_trip").val() + "SpliTwHatsaPP";
            }


            $.ajax({
                type: "POST", 		//GET or POST or PUT or DELETE verb
                url: '@Url.Action("Whatsappmessage", "Flights")', 		// Location of the service
                data: '{Whatsappno: "' + sendto + '" ,Flightdet: "' + Senddata + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (json) {//On Successful service call
                    var result = json.Result;
                    $("#modal-SendWhatsapp").hide();
                    if (result[0] != null && result[0] != "") {
                        window.open("https://web.whatsapp.com/send?phone=" + result[2] + "&text=" + result[0]);
                    }
                },
                error: function (e) {//On Successful service call
                    $('#modal-SendWhatsapp').hide();
                    $('#btnOKMAil').disabled = false;
                    if (e.status == "500") {
                        window.location.href = sessionExb;
                        return false;
                    }
                }	// When Service call fails
            });
        }

        function checkconnection() {
            try {
                var checkmobile = '@Request.Browser.IsMobileDevice';
                if (checkmobile.toUpperCase() == "TRUE") {
                    return true; //For Mobile need to develop.... now temporarly return true.... by saranraj...
                }
                else {
                    var status = navigator.onLine;
                    if (status) {
                        return true;
                    }
                    else {
                        return false;
                    }
                }
            }
            catch (e) {
                return true; //For Browser capability Safty purpose ...
            }
        }

        function showerralert(msg, timout, temp2) {
            $('#modal-alert').iziModal('destroy');
            if (timout == null || timout == "") {
                $("#modal-alert").iziModal({
                    title: msg,
                    icon: 'fa fa-warning',
                    headerColor: '#bd5b5b',
                    width: "500px",
                    onClosing: function () {
                        if (temp2 == "REDIRECT") {
                            window.location.href = sessionExb;
                        }
                    },
                });
            }
            else {
                $("#modal-alert").iziModal({
                    title: msg,
                    icon: 'fa fa-warning',
                    headerColor: '#bd5b5b',
                    width: "500px",
                    timeout: timout
                });
            }
            $('#modal-alert').iziModal('open');
        }

    </script>
    <script src="~/js/AppsJS/AppsJs.js?@fileversion"></script>
@*<script src="~/js/Multicity/CBTMultiCity.js?@fileversion"></script>*@
<script src="~/js/AppsJS/AvailSelect.js?@fileversion"></script>
<script src="~/js/AppsJS/Booking.js?@fileversion"></script>
<script src="~/js/jquery.nice-select.js?@fileversion"></script>
<script src="~/js/bootstrap-brogressbar-manager.js?@fileversion"></script>
<script src="~/js/tinysort.js?@fileversion"></script> 
<script src="~/js/AppsJS/sampleAvailform.js?@fileversion"></script>
</body>
</html>
